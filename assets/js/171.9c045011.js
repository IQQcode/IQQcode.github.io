(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{498:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("table",[s("thead",[s("tr",[s("th",[t._v("æ–¹æ³•")]),t._v(" "),s("th",[t._v("ä½œç”¨")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("é‡Šæ”¾é”")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("sleep")]),t._v(" "),s("td",[t._v("çº¿ç¨‹ä¼‘çœ ")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸é‡Šæ”¾ğŸ”’")])]),t._v(" "),s("tr",[s("td",[t._v("join")]),t._v(" "),s("td",[t._v("çº¿ç¨‹æ’é˜Ÿ")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("é‡Šæ”¾é”ğŸ”‘")])]),t._v(" "),s("tr",[s("td",[t._v("yield")]),t._v(" "),s("td",[t._v("çº¿ç¨‹è®©æ­¥")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸é‡Šæ”¾ğŸ”’")])]),t._v(" "),s("tr",[s("td",[t._v("wait")]),t._v(" "),s("td",[t._v("çº¿ç¨‹ç­‰å¾…")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("é‡Šæ”¾é”ğŸ”‘")])])])]),t._v(" "),s("h2",{attrs:{id:"_1-çº¿ç¨‹é—´çš„é€šä¿¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-çº¿ç¨‹é—´çš„é€šä¿¡"}},[t._v("#")]),t._v(" 1. çº¿ç¨‹é—´çš„é€šä¿¡")]),t._v(" "),s("p",[s("strong",[t._v("ä»€ä¹ˆæ˜¯çº¿ç¨‹é—´çš„é€šä¿¡")])]),t._v(" "),s("p",[t._v("å¤šä¸ªçº¿ç¨‹ååŒå¤„ç†åŒä¸€ä¸ªèµ„æºï¼Œçº¿ç¨‹çš„ä»»åŠ¡ä¸ç›¸åŒ")]),t._v(" "),s("p",[s("strong",[t._v("ä¸ºä»€ä¹ˆéœ€è¦çº¿ç¨‹é—´çš„é€šä¿¡")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/20210617213030.png",alt:" "}})]),t._v(" "),s("p",[t._v("å¤šä¸ªçº¿ç¨‹å¹¶å‘æ‰§è¡Œæ—¶ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹CPUæ˜¯éšæœºåˆ‡æ¢çº¿ç¨‹çš„ï¼Œå½“æˆ‘ä»¬éœ€è¦å¤šä¸ªçº¿ç¨‹æ¥å…±åŒå®Œæˆä¸€ä»¶ä»»åŠ¡ï¼Œå¹¶ä¸”å¸Œæœ›ä»–ä»¬æœ‰è§„å¾‹çš„æ‰§è¡Œï¼Œé‚£ä¹ˆå¤šçº¿ç¨‹ä¹‹é—´éœ€è¦åè°ƒé€šä¿¡ï¼Œä»¥æ­¤æ¥å¸®æˆ‘ä»¬è¾¾åˆ°"),s("strong",[t._v("å¤šä¸ªçº¿ç¨‹å…±åŒæ“ä½œä¸€ä»½æ•°æ®çš„ç›®çš„")]),t._v("ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("å¦‚ä½•ä¿è¯çº¿ç¨‹é—´çš„é€šä¿¡")])]),t._v(" "),s("p",[t._v("å¤šä¸ªçº¿ç¨‹åœ¨æ“ä½œåŒä¸€ä»½æ•°æ®æ—¶ï¼Œé¿å…å¯¹åŒä¸€å…±äº«å˜é‡çš„äº‰å¤ºï¼Œé€šè¿‡"),s("strong",[t._v("ç­‰å¾…å”¤é†’æœºåˆ¶")]),t._v("æ¥ä¿è¯çº¿ç¨‹èƒ½åˆç†æœ‰æœ‰æ•ˆçš„åˆ©ç”¨èµ„æºã€‚")]),t._v(" "),s("p",[s("strong",[t._v("é€šä¿¡çš„å‰æ")])]),t._v(" "),s("p",[s("font",{attrs:{color:"red"}},[s("strong",[t._v("çº¿ç¨‹å¿…é¡»åœ¨åŒæ­¥æ–¹æ³•æˆ–åŒæ­¥ä»£ç å—ä¸­æ‹¿åˆ°ç›¸åº”å¯¹è±¡çš„é”ï¼Œå·²ç»è·å–äº†é”èµ„æº")])])],1),t._v(" "),s("h2",{attrs:{id:"_2-ç­‰å¾…å”¤é†’æœºåˆ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç­‰å¾…å”¤é†’æœºåˆ¶"}},[t._v("#")]),t._v(" 2. ç­‰å¾…å”¤é†’æœºåˆ¶")]),t._v(" "),s("p",[t._v("å°±åƒæˆ‘ä»¬å‰é¢ä¹°ç¥¨çš„ä¾‹å­ï¼Œå¦‚æœä¸åŠ é”çº¿ç¨‹åœ¨è®¿é—®å…±äº«èµ„æºçš„æ—¶å€™å°±ä¼šç«äº‰ï¼Œéƒ½å»ç­‰å¾…CPUçš„è°ƒåº¦æ¥äº‰å¤ºèµ„æºã€‚ä½†æ˜¯ï¼Œé€šè¿‡"),s("code",[t._v("synchronized")]),t._v("å’Œ"),s("code",[t._v("Lock")]),t._v("æ¥å¯¹èµ„æºä¸Šé”ï¼Œä½¿èµ„æºåŒæ—¶åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®åˆ°ï¼Œé¿å…äº†å¹¶å‘å¸¦æ¥çš„ä¸å®‰å…¨é—®é¢˜ã€‚è¿™å±äºçº¿ç¨‹é—´çš„"),s("strong",[t._v("ç«äº‰")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("å°±åƒäººä¸€æ ·ï¼Œæœ‰ç«äº‰å°±ä¼šæœ‰åˆä½œ")]),t._v(" "),s("p",[s("code",[t._v("wait / notify")]),t._v(" å°±æ˜¯çº¿ç¨‹é—´çš„ä¸€ç§åä½œæœºåˆ¶ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("çº¿ç¨‹é—´çš„åˆä½œ")]),t._v("å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œäº†è§„å®šæ“ä½œåï¼Œå°±è¿›å…¥ç­‰å¾…çŠ¶æ€"),s("code",[t._v("wait")]),t._v("ï¼Œç­‰å¾…å…¶ä»–çº¿ç¨‹æ‰§è¡Œå®Œä»–ä»¬çš„æŒ‡å®šä»£ç è¿‡åå†å°†å…¶å”¤é…²"),s("code",[t._v("notify")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("åœ¨æœ‰å¤šä¸ªçº¿ç¨‹è¿›è¡Œç­‰å¾…æ—¶ï¼Œå¦‚æœéœ€è¦ï¼Œå¯ä»¥ä½¿ç”¨"),s("code",[t._v("notifyAll")]),t._v("æ¥å”¤é…²æ‰€æœ‰çš„ç­‰å¾…çº¿ç¨‹")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"sleep-wait"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sleep-wait"}},[t._v("#")]),t._v(" sleep & wait")]),t._v(" "),s("p",[t._v("sleepå’Œwaitæ–¹æ³•éƒ½èƒ½ä½¿å½“å‰çº¿ç¨‹åœæ­¢æ‰§è¡Œï¼Œè¿›å…¥åˆ°é˜»å¡çŠ¶æ€ï¼Œé‚£å…·ä½“æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ")]),t._v(" "),s("ol",[s("li",[t._v("sleepæ˜¯Threadç±»çš„é™æ€æ–¹æ³•ï¼Œè€Œwaitæ˜¯Objectçš„æ–¹æ³•")]),t._v(" "),s("li",[t._v("sleepåœ¨ç¡çœ æ—¶ï¼Œä¸ä¼šé‡Šæ”¾å¯¹è±¡é”ï¼›waitä¼šé‡Šæ”¾å¯¹è±¡é”ï¼Œå”¤é†’ä¹‹åéœ€è¦é‡æ–°ç«äº‰é”")]),t._v(" "),s("li",[t._v("sleepä¸å¼ºåˆ¶å’Œ"),s("code",[t._v("synchronized")]),t._v("ä¸€èµ·ä½¿ç”¨ï¼Œwaitå¿…é¡»åœ¨"),s("code",[t._v("synchronized")]),t._v("å†…ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ›å¼‚å¸¸")])]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"ç­‰å¾…å”¤é†’ä¸­çš„æ–¹æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç­‰å¾…å”¤é†’ä¸­çš„æ–¹æ³•"}},[t._v("#")]),t._v(" ç­‰å¾…å”¤é†’ä¸­çš„æ–¹æ³•")]),t._v(" "),s("ul",[s("li",[t._v("waitã€notifyå¿…é¡»æ­é…synchronizedä½¿ç”¨")])]),t._v(" "),s("p",[t._v("ä½¿ç”¨"),s("code",[t._v("wait")]),t._v("ã€"),s("code",[t._v("notify")]),t._v("çš„å‰æï¼š")]),t._v(" "),s("p",[s("font",{attrs:{color:"red"}},[s("strong",[t._v("å¿…é¡»åœ¨åŒæ­¥æ–¹æ³•æˆ–åŒæ­¥ä»£ç å—ä¸­ä½¿ç”¨(æ‹¿åˆ°ç›¸åº”å¯¹è±¡çš„é”)")])]),t._v("ã€‚å³waitã€notifyå¿…é¡»åœ¨"),s("code",[t._v("synchronized")]),t._v("ä¸­è°ƒç”¨æ‰å¯ä»¥ï¼Œå¦åˆ™ä¼šæŠ›å‡º"),s("code",[t._v("java.lang.IllegalMonitorStateException")]),t._v("ï¼ˆéæ³•ç›‘è§†å™¨çŠ¶æ€å¼‚å¸¸ï¼‰")],1),t._v(" "),s("br"),t._v(" "),s("h4",{attrs:{id:"wait"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#wait"}},[t._v("#")]),t._v(" wait")]),t._v(" "),s("p",[t._v("æŒæœ‰é”çš„çº¿ç¨‹è°ƒç”¨"),s("code",[t._v("wait()")]),t._v("åä¼šä¸€ç›´é˜»å¡ï¼Œç›´åˆ°æœ‰çº¿ç¨‹è°ƒç”¨"),s("code",[t._v("notify()")]),t._v("å°†å…¶å”¤é†’")]),t._v(" "),s("p",[s("strong",[t._v("waitçš„é‡è½½æ–¹æ³•ï¼š")])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("native")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" timeout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œè‹¥è¿˜æœªè¢«å”¤é†’ï¼Œç»§ç»­æ‰§è¡Œï¼Œé»˜è®¤å•ä½ä¸ºms")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WaitTest")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("synchronized")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"waitå¼€å§‹..."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"waitç»“æŸ..."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[t._v("ä¸åŠ å”¤é†’æ—¶é—´ï¼Œæ²¡æœ‰notifyå°±ä¼šä¸€ç›´å¤„äºç­‰å¾…ä¸­")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/20210617213053.gif",alt:""}})]),t._v(" "),s("p",[t._v("æ·»åŠ å”¤é†’æ—¶é—´ï¼Œåœ¨è§„å®šçš„æ—¶é—´å†…æ²¡æœ‰è¢«å”¤é†’å°±ä¼šè‡ªåŠ¨ç»“æŸç­‰å¾…")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/20210617213105.gif",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"notify"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#notify"}},[t._v("#")]),t._v(" notify")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("å”¤é†’ä»»æ„"),s("strong",[t._v("ä¸€ä¸ª")]),t._v("å¤„äºç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹ï¼ˆnotifyæ–¹æ³•å°±æ˜¯ä½¿ç­‰å¾…çš„çº¿ç¨‹ç»§ç»­è¿è¡Œï¼‰")])]),t._v(" "),s("li",[s("p",[t._v("è¢«å”¤é†’ä¹‹åçš„çº¿ç¨‹ï¼Œå¤„äºé˜»å¡çŠ¶æ€ï¼Œéœ€è¦é‡æ–°è¿›å…¥EntryListè·å–é”")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/20210617213111.png",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}}),t._v(" "),s("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/20210617213117.png",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}})]),t._v(" "),s("p",[t._v("ç­‰å¾…å”¤é…²æœºåˆ¶å°±æ˜¯ç”¨äºè§£å†³çº¿ç¨‹é—´é€šä¿¡çš„é—®é¢˜çš„ï¼Œä½¿ç”¨åˆ°çš„3ä¸ªæ–¹æ³•çš„å«ä¹‰å¦‚ä¸‹ï¼š")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("waitï¼š")]),t._v(" çº¿ç¨‹ä¸å†å‚ä¸ç«äº‰é”ï¼Œä¸å†ç­‰å¾…CPUè°ƒåº¦ï¼Œè¿›å…¥wait setä¸­ï¼Œæ­¤æ—¶çº¿ç¨‹çš„çŠ¶æ€æ˜¯WAITINGã€‚å®ƒè¦ç­‰å¾…åˆ«çš„çº¿ç¨‹æ‰§å”¤é†’å®ƒ(notify)ï¼Œé€šçŸ¥å®ƒä»wait setä¸­é‡Šæ”¾å‡ºæ¥ï¼Œé‡æ–°è¿›å…¥åˆ°è°ƒåº¦é˜Ÿåˆ— ready queueä¸­")]),t._v(" "),s("li",[s("strong",[t._v("notifyï¼š")]),t._v(" å”¤é†’ç­‰å¾…çš„çº¿ç¨‹ï¼Œé€šçŸ¥ç­‰å¾…çš„çº¿ç¨‹ä»wait setä¸­é‡Šæ”¾ï¼Œé‡æ–°è¿›å…¥åˆ°è°ƒåº¦é˜Ÿåˆ— ready queueä¸­")]),t._v(" "),s("li",[s("strong",[t._v("notifyAllï¼š")]),t._v(" å”¤é†’æ‰€æœ‰ç­‰å¾…çš„çº¿ç¨‹")])]),t._v(" "),s("p",[s("strong",[t._v("æ³¨æ„ï¼š")])]),t._v(" "),s("p",[s("strong",[t._v("waitä¼šé‡Šæ”¾é”ï¼Œnotifyä»…ä»…åªæ˜¯é€šçŸ¥ï¼Œä¸é‡Šæ”¾é”")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("å“ªæ€•åªé€šçŸ¥äº†â€”ä¸ªç­‰å¾…çš„çº¿ç¨‹ï¼Œè¢«é€šçŸ¥çº¿ç¨‹ä¹Ÿä¸èƒ½ç«‹å³æ¢å¤æ‰§è¡Œï¼Œå› ä¸ºå®ƒå½“åˆä¸­æ–­çš„åœ°æ–¹æ˜¯åœ¨åŒæ­¥å—å†…ï¼Œè€Œæ­¤åˆ»å®ƒå·²ç»ä¸æŒæœ‰é”ï¼ˆwaitæ–¹æ³•ä¼šé‡Šæ”¾é”æ¥ç­‰å¾…ï¼‰ï¼Œæ‰€ä»¥å®ƒéœ€è¦å†æ¬¡å°è¯•å»è·å–é”ï¼ˆå¾ˆå¯èƒ½é¢ä¸´å…¶å®ƒçº¿ç¨‹çš„ç«äº‰ï¼‰ï¼Œ"),s("strong",[t._v("æˆåŠŸåæ‰èƒ½åœ¨å½“åˆè°ƒç”¨waitæ–¹æ³•ä¹‹åçš„åœ°æ–¹æ¢å¤æ‰§è¡Œ")]),t._v("ã€‚")]),t._v(" "),s("ol",[s("li",[t._v("waitæ–¹æ³•ä¸notifyæ–¹æ³•å¿…é¡»è¦ç”±åŒä¸€ä¸ªé”å¯¹è±¡è°ƒç”¨")]),t._v(" "),s("li",[t._v("waitæ–¹æ³•ä¸notifyæ–¹æ³•æ˜¯å±äºObjectç±»çš„æ–¹æ³•çš„")]),t._v(" "),s("li",[t._v("waitæ–¹æ³•ä¸notifyæ–¹æ³•å¿…é¡»è¦åœ¨åŒæ­¥ä»£ç å—æˆ–è€…æ˜¯åŒæ­¥æ–¹æ³•ä¸­ä½¿ç”¨")])]),t._v(" "),s("p",[s("strong",[t._v("æ€»ç»“ï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœèƒ½è·å–é”ï¼Œçº¿ç¨‹å°±ä»WAITINGçŠ¶æ€å˜ä¸ºå°±ç»ªçŠ¶æ€")]),t._v(" "),s("li",[t._v("å¦‚æœæ²¡æœ‰è·å–åˆ°é”ï¼Œå°±ä» "),s("strong",[t._v("WaitSet")]),t._v(" ä¸­å‡ºæ¥ç„¶åè¿›å…¥åˆ° "),s("strong",[t._v("EntryList")]),t._v(" ï¼Œçº¿ç¨‹ä»WAITINGå˜ä¸ºé˜»å¡çŠ¶æ€")])]),t._v(" "),s("p",[s("strong",[t._v("notify()å”¤é†’ç­‰å¾…çš„çº¿ç¨‹ï¼š")])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sync")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ ‡å¿—ä½æ¥å”¤é†’ç­‰å¾…çš„çº¿ç¨‹")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" flag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" flag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("flag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" flag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("waitMethod")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("synchronized")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"waitæ–¹æ³•å¼€å§‹..."')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentThread")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"waitæ–¹æ³•ç»“æŸ..."')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentThread")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("notifyMethod")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("synchronized")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"notifyæ–¹æ³•å¼€å§‹,å”¤é†’ç­‰å¾…çš„çº¿ç¨‹"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentThread")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"notifyæ–¹æ³•ç»“æŸï¼ï¼ï¼"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentThread")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("flag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("waitMethod")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("notifyMethod")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SyncWaitNotify")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sync")]),t._v(" wait "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sync")]),t._v(" notify "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("wait"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"waitçº¿ç¨‹"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("notify"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"notifyçº¿ç¨‹"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/20210617213125.gif",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}}),t._v(" "),s("strong",[t._v("è¿è¡Œç»“æœåˆ†æï¼š")])]),t._v(" "),s("p",[t._v("ä»ç»“æœä¸Šæ¥çœ‹ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œçš„æ˜¯ä¸€ä¸ªwaitMethodæ–¹æ³•ï¼Œè¯¥æ–¹æ³•é‡Œé¢æœ‰ä¸ªæ­»å¾ªç¯å¹¶ä¸”ä½¿ç”¨äº†waitæ–¹æ³•è¿›å…¥ç­‰å¾…çŠ¶æ€å°†é”é‡Šæ”¾ï¼Œå¦‚æœè¿™ä¸ªçº¿ç¨‹ä¸è¢«å”¤é†’çš„è¯å°†ä¼šä¸€ç›´ç­‰å¾…ä¸‹å»ï¼Œè¿™ä¸ªæ—¶å€™ç¬¬äºŒä¸ªçº¿ç¨‹æ‰§è¡Œçš„æ˜¯notifyMethodæ–¹æ³•ï¼Œè¯¥æ–¹æ³•é‡Œé¢æ‰§è¡Œäº†ä¸€ä¸ªå”¤é†’çº¿ç¨‹çš„æ“ä½œï¼Œå¹¶ä¸”ä¸€ç›´å°†notifyçš„åŒæ­¥ä»£ç å—æ‰§è¡Œå®Œæ¯•ä¹‹åæ‰ä¼šé‡Šæ”¾é”ç„¶åç»§ç»­æ‰§è¡Œwaitç»“æŸæ‰“å°è¯­å¥ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/20210617213130.png",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}}),t._v(" "),s("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/20210617213138.png",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}})]),t._v(" "),s("p",[t._v("ä»»æ„ä¸€ä¸ªObjectåŠå…¶å­ç±»å¯¹è±¡éƒ½æœ‰ä¸¤ä¸ªé˜Ÿåˆ—ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("åŒæ­¥é˜Ÿåˆ—-EntryListï¼šæ‰€æœ‰å°è¯•è·å–è¯¥å¯¹è±¡"),s("code",[t._v("Monitor")]),t._v("å¤±è´¥çš„çº¿ç¨‹ï¼Œéƒ½åŠ å…¥åŒæ­¥é˜Ÿåˆ—ï¼Œæ’é˜Ÿè·å–")]),t._v(" "),s("li",[t._v("ç­‰å¾…é˜Ÿåˆ—-WaitSetï¼šå·²ç»æ‹¿åˆ°äº†é”çš„çº¿ç¨‹åœ¨ç­‰å¾…å…¶ä»–èµ„æºæ—¶ï¼Œä¸»åŠ¨é‡Šæ”¾é”ï¼Œç½®å…¥è¯¥å¯¹è±¡ç­‰å¾…é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…å…¶è¢«å”¤é†’ï¼›å½“è°ƒç”¨"),s("code",[t._v("notify()")]),t._v("ä¼šåœ¨ç­‰å¾…é˜Ÿåˆ—ä¸­ä»»æ„å”¤é†’ä¸€ä¸ªçº¿ç¨‹ï¼Œå°†å…¶"),s("strong",[t._v("ç½®å…¥åˆ°åŒæ­¥é˜Ÿåˆ—å°¾éƒ¨ï¼Œæ’é˜Ÿè·å–é”")])])]),t._v(" "),s("p",[s("strong",[t._v("notifyAll")]),t._v("ï¼šå°†ç­‰å¾…é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰çº¿ç¨‹å”¤é†’ï¼Œå¹¶ä¸”åŠ å…¥åˆ°åŒæ­¥é˜Ÿåˆ—")]),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"_3-è™šå‡å”¤é†’"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-è™šå‡å”¤é†’"}},[t._v("#")]),t._v(" 3. è™šå‡å”¤é†’")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/20210617213144.png",alt:""}})]),t._v(" "),s("p",[t._v("çº¿ç¨‹Aå’Œçº¿ç¨‹Béƒ½å¤„äº"),s("code",[t._v("WAITTING")]),t._v("çŠ¶æ€ï¼Œæˆ‘æƒ³é€šè¿‡"),s("code",[t._v("notify")]),t._v("æ¥"),s("strong",[t._v("å”¤é†’çº¿ç¨‹A")])]),t._v(" "),s("p",[t._v("ä½†æ˜¯"),s("code",[t._v("notify")]),t._v("å”¤é†’çš„çº¿ç¨‹æ˜¯éšæœºçš„ï¼Œæˆ‘å¯èƒ½ä¼šå”¤é†’"),s("em",[t._v("çº¿ç¨‹B")]),t._v("ï¼Œæ­¤æ—¶çº¿ç¨‹Aä»ç„¶å¤„äº"),s("code",[t._v("WAITTING")]),t._v("çŠ¶æ€ã€‚è¿™å°±æ˜¯"),s("strong",[t._v("è™šå‡å”¤é†’")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ")]),t._v(" "),s("ol",[s("li",[t._v("ä½¿ç”¨"),s("code",[t._v("notifyAll()")]),t._v("å°†çº¿ç¨‹Aã€çº¿ç¨‹Bå…¨éƒ¨å”¤é†’")]),t._v(" "),s("li",[t._v("å°†åˆ¤æ–­æ¡ä»¶"),s("code",[t._v("if")]),t._v("æ”¹ä¸º"),s("code",[t._v("while")])]),t._v(" "),s("li",[t._v("JUCå·¥å…·ç±»ä¸‹çš„"),s("strong",[t._v("Condition")]),t._v("ï¼Œå®ç°ç²¾å‡†å”¤é†’")])]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"æ”¹å˜æ¡ä»¶åˆ¤æ–­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ”¹å˜æ¡ä»¶åˆ¤æ–­"}},[t._v("#")]),t._v(" æ”¹å˜æ¡ä»¶åˆ¤æ–­")]),t._v(" "),s("p",[t._v("æ¯”å¦‚ç°åœ¨æœ‰ä¸€ä¸ªä¸šåŠ¡ç±»ï¼Œé‚£ä¹ˆè¦å°†æ¡ä»¶åˆ¤æ–­"),s("code",[t._v("if")]),t._v("æ”¹ä¸º"),s("code",[t._v("while")]),t._v("å¾ªç¯ä¸­ï¼Œé¿å…è™šå‡å”¤é†’ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/20210617213148.png",alt:""}})]),t._v(" "),s("p",[t._v("å¼€å¯å››ä¸ªçº¿ç¨‹ï¼ŒAçº¿ç¨‹åŠ ï¼ŒBçº¿ç¨‹å‡ï¼ŒCçº¿ç¨‹åŠ ï¼ŒDçº¿ç¨‹å‡")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/20210617213154.png",alt:""}})]),t._v(" "),s("p",[t._v("æ­£ç¡®ç»“æœæ˜¯Aã€Cçº¿ç¨‹æ‹¿åˆ°çš„æ•°å­—åªèƒ½æ˜¯"),s("code",[t._v("1")]),t._v("ï¼Œè€ŒBã€Dçº¿ç¨‹åªèƒ½æ‹¿åˆ°"),s("code",[t._v("0")]),t._v("ã€‚è¿™å°±æ˜¯æ‰€è°“çš„"),s("strong",[t._v("è™šå‡å”¤é†’")])]),t._v(" "),s("p",[t._v("æˆ‘ä»¬æ‹¿ç”Ÿäº§è€…--æ¶ˆè´¹è€…æ¨¡å‹æ¥ä¸¾ä¾‹è¯´æ˜ï¼š")]),t._v(" "),s("p",[t._v("ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªç”Ÿäº§è€…--æ¶ˆè´¹è€…é˜Ÿåˆ—å’Œä¸‰ä¸ªçº¿ç¨‹ï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("1å·çº¿ç¨‹ä»é˜Ÿåˆ—ä¸­è·å–äº†ä¸€ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶é˜Ÿåˆ—å˜ä¸ºç©º")])]),t._v(" "),s("li",[s("p",[t._v("2å·çº¿ç¨‹ä¹Ÿæƒ³ä»é˜Ÿåˆ—ä¸­è·å–ä¸€ä¸ªå…ƒç´ ï¼Œä½†æ­¤æ—¶é˜Ÿåˆ—ä¸ºç©ºï¼Œ2å·çº¿ç¨‹ä¾¿åªèƒ½è¿›å…¥é˜»å¡"),s("code",[t._v("wait")]),t._v("ï¼Œç­‰å¾…é˜Ÿåˆ—éç©º")])]),t._v(" "),s("li",[s("p",[t._v("è¿™æ—¶ï¼Œ3å·çº¿ç¨‹å°†ä¸€ä¸ªå…ƒç´ å…¥é˜Ÿï¼Œå¹¶è°ƒç”¨"),s("code",[t._v("notify")]),t._v("å”¤é†’æ¡ä»¶å˜é‡")])]),t._v(" "),s("li",[s("p",[t._v("å¤„äºç­‰å¾…çŠ¶æ€çš„2å·çº¿ç¨‹æ¥æ”¶åˆ°3å·çº¿ç¨‹çš„å”¤é†’ä¿¡å·ï¼Œä¾¿å‡†å¤‡è§£é™¤é˜»å¡çŠ¶æ€ï¼Œæ‰§è¡Œçº¿ç¨‹ä»»åŠ¡(è·å–é˜Ÿåˆ—ä¸­çš„å…ƒç´ )")])]),t._v(" "),s("li",[s("p",[t._v("ç„¶è€Œå¯èƒ½å‡ºç°è¿™æ ·çš„æƒ…å†µï¼šå½“2å·çº¿ç¨‹å‡†å¤‡è·å¾—é˜Ÿåˆ—çš„é”ï¼Œå»è·å–é˜Ÿåˆ—ä¸­çš„å…ƒç´ æ—¶ï¼Œæ­¤æ—¶1å·çº¿ç¨‹åˆšå¥½æ‰§è¡Œå®Œä¹‹å‰çš„å…ƒç´ æ“ä½œï¼Œè¿”å›å†å»è¯·æ±‚é˜Ÿåˆ—ä¸­çš„å…ƒç´ ï¼Œ1å·çº¿ç¨‹ä¾¿è·å¾—é˜Ÿåˆ—çš„é”ï¼Œæ£€æŸ¥åˆ°é˜Ÿåˆ—éç©ºï¼Œå°±è·å–åˆ°äº†3å·çº¿ç¨‹åˆšåˆšå…¥é˜Ÿçš„å…ƒç´ ï¼Œç„¶åé‡Šæ”¾é˜Ÿåˆ—é”")])]),t._v(" "),s("li",[s("p",[t._v("ç­‰åˆ°2å·çº¿ç¨‹è·å¾—é˜Ÿåˆ—é”ï¼Œåˆ¤æ–­å‘ç°é˜Ÿåˆ—ä»ä¸ºç©ºï¼Œ1å·çº¿ç¨‹"),s("strong",[t._v("å·èµ°äº†")]),t._v("è¿™ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥å¯¹äº2å·çº¿ç¨‹è€Œè¨€ï¼Œè¿™æ¬¡å”¤é†’å°±æ˜¯"),s("strong",[t._v("è™šå‡")]),t._v("çš„ï¼Œå®ƒéœ€è¦å†æ¬¡ç­‰å¾…é˜Ÿåˆ—éç©º")])])]),t._v(" "),s("p",[s("strong",[t._v("ä¸ºä»€ä¹ˆå°†"),s("code",[t._v("if")]),t._v("æ”¹ä¸º"),s("code",[t._v("while")]),t._v("å°±èƒ½é¿å…è™šå‡ç­‰å¾…çš„é—®é¢˜å‘¢ï¼Ÿ")])]),t._v(" "),s("p",[s("strong",[t._v("ç­”ï¼šifåˆ¤æ–­æ¡ä»¶åªä¼šæ£€æŸ¥ä¸€æ¬¡ï¼Œæ•…äº§ç”Ÿè™šå‡å”¤é†’ï¼›whileä¼šä¸æ–­æ£€æŸ¥ï¼Œç›´è‡³æ»¡è¶³æ¡ä»¶ä¸ºæ­¢")])]),t._v(" "),s("p",[t._v("å¦‚æœç”¨ifåˆ¤æ–­ï¼Œå¤šä¸ªç­‰å¾…çº¿ç¨‹åœ¨æ»¡è¶³ifæ¡ä»¶æ—¶éƒ½ä¼šè¢«å”¤é†’(è™šå‡çš„)ï¼Œå°±åƒçº¿ç¨‹2ä¸€æ ·ï¼Œä½†å®é™…ä¸Šæ¡ä»¶å¹¶ä¸æ»¡è¶³ï¼ˆç”Ÿäº§çš„å…ƒç´ å·²è¢«çº¿ç¨‹1æ‹¿èµ°ï¼‰ï¼Œç”Ÿäº§è€…ç”Ÿäº§å‡ºæ¥çš„æ¶ˆè´¹å“å·²ç»è¢«ç¬¬ä¸€ä¸ªçº¿ç¨‹æ¶ˆè´¹äº†")]),t._v(" "),s("p",[t._v("è¿™å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨whileå»åšåˆ¤æ–­è€Œä¸æ˜¯ä½¿ç”¨ifçš„åŸå› ï¼š")]),t._v(" "),s("p",[t._v("å› ä¸ºç­‰å¾…åœ¨æ¡ä»¶å˜é‡ä¸Šçš„çº¿ç¨‹è¢«å”¤é†’æœ‰å¯èƒ½ä¸æ˜¯å› ä¸ºæ¡ä»¶æ»¡è¶³è€Œæ˜¯ç”±äºè™šå‡å”¤é†’ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¡ä»¶å˜é‡çš„çŠ¶æ€è¿›è¡Œ"),s("strong",[t._v("ä¸æ–­æ£€æŸ¥")]),t._v("ç›´åˆ°å…¶æ»¡è¶³æ¡ä»¶ï¼Œä¸ä»…è¦åœ¨è¿›å…¥æ¡ä»¶ä¹‹å‰å‰æ£€æŸ¥æ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œåœ¨å‡ºäº†æ¡ä»¶ä¹‹åä¹Ÿè¦æ£€æŸ¥ã€‚")]),t._v(" "),s("p",[t._v("ä¸ºä»€ä¹ˆä½¿ç”¨whileå°±å¯ä»¥å‘¢ï¼Œå³ä½¿å”¤é†’äº†æ‰€æœ‰çš„æ¶ˆè´¹è€…çº¿ç¨‹ï¼Œå½“ä¸º"),s("code",[t._v("if")]),t._v("çš„æ—¶å€™ï¼Œæ¡ä»¶åªä¼šåˆ¤æ–­ä¸€æ¬¡ï¼Œä½†æ˜¯ä¸º"),s("code",[t._v("while")]),t._v("æ—¶ä¼šä¸åœå¾ªç¯åˆ¤æ–­ï¼Œå¦‚æœæ­¤æ—¶æ¡ä»¶æ˜¯ä¸º1ï¼Œé‚£ä¹ˆACçº¿ç¨‹å°±ä¸èƒ½å‡ºwhileï¼Œé‚£ä¹ˆä»–ä»¬ä¹Ÿå°±ä¸å›æ‰§è¡Œä¸‹é¢numberåŠ çš„æ“ä½œäº†ï¼Œé‚£ä¹ˆå°±ä¼šé¿å…äº†è¿™ç§é”™è¯¯ã€‚è¿™ä¹Ÿæ˜¯å®˜æ–¹æå€¡çš„åœ¨ä½¿ç”¨waitÂ å’ŒnotifyAllçš„æ—¶å€™ï¼Œå¿…é¡»ä½¿ç”¨whileå¾ªç¯æ¡ä»¶åˆ¤æ–­ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("ã€å°ç»“ã€‘")])]),t._v(" "),s("p",[t._v("wait / notifyçš„ä½¿ç”¨")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("synchronized")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("æ¡ä»¶ä¸æˆç«‹"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        lock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç­‰å¾…")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¹²æ´»")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¦ä¸€ä¸ªçº¿ç¨‹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("synchronized")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    lock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("notifyAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"_5-ç”Ÿäº§æ¶ˆè´¹è€…æ¨¡å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-ç”Ÿäº§æ¶ˆè´¹è€…æ¨¡å‹"}},[t._v("#")]),t._v(" 5. ç”Ÿäº§æ¶ˆè´¹è€…æ¨¡å‹")]),t._v(" "),s("p",[t._v("ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼æ˜¯é€šè¿‡ä¸€ä¸ªå®¹å™¨æ¥è§£å†³ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„å¼ºè€¦åˆé—®é¢˜ã€‚ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å½¼æ­¤ä¹‹é—´ä¸ç›´æ¥é€šè®¯ï¼Œè€Œé€šè¿‡é˜»å¡é˜Ÿåˆ—æ¥è¿›è¡Œé€šè®¯ï¼Œæ‰€ä»¥ç”Ÿäº§è€…ç”Ÿäº§å®Œæ•°æ®ä¹‹åä¸ç”¨ç­‰å¾…æ¶ˆè´¹è€…å¤„ç†ï¼Œç›´æ¥æ‰”ç»™é˜»å¡é˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…ä¸æ‰¾ç”Ÿäº§è€…è¦æ•°æ®ï¼Œè€Œæ˜¯ç›´æ¥ä»é˜»å¡é˜Ÿåˆ—é‡Œå–ï¼Œé˜»å¡é˜Ÿåˆ—å°±ç›¸å½“äºä¸€ä¸ªç¼“å†²åŒºï¼Œå¹³è¡¡äº†ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„å¤„ç†èƒ½åŠ›ã€‚")]),t._v(" "),s("p",[t._v("è¿™ä¸ªé˜»å¡é˜Ÿåˆ—å°±æ˜¯ç”¨æ¥ç»™ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…è§£è€¦çš„ã€‚å¤§å¤šæ•°è®¾è®¡æ¨¡å¼ï¼Œéƒ½ä¼šæ‰¾ä¸€ä¸ªç¬¬ä¸‰è€…å‡ºæ¥è¿›è¡Œè§£è€¦ï¼Œå¦‚å·¥å‚æ¨¡å¼çš„ç¬¬ä¸‰è€…æ˜¯å·¥å‚ç±»ï¼Œæ¨¡æ¿æ¨¡å¼çš„ç¬¬ä¸‰è€…æ˜¯æ¨¡æ¿ç±»ã€‚åœ¨å­¦ä¹ ä¸€äº›è®¾è®¡æ¨¡å¼çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå…ˆæ‰¾åˆ°è¿™ä¸ªæ¨¡å¼çš„ç¬¬ä¸‰è€…ï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿç†Ÿæ‚‰ä¸€ä¸ªè®¾è®¡æ¨¡å¼")]),t._v(" "),s("p",[s("strong",[t._v("ä¸¾ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­æ¥è¯´æ˜ï¼š")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/20210617213158.png",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}})]),t._v(" "),s("p",[t._v("ä½œä¸ºä¸€ä¸ªå³å°†è¿ˆå…¥ç¤¾ä¼šå¹¶è¢«ç”Ÿæ´»æ¯’æ‰“çš„å‘å¾®é’å¹´ï¼Œæ¯•ä¸šååˆ°â€œå·¥åœ°æ¬ç –â€ä¸€å®šä¼šé‡åˆ°ç§Ÿæˆ¿å­çš„é—®é¢˜ã€‚å¯¹äºæˆ¿ä¸œæ¥è¯´ï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œå¥¹æ˜¯æˆ¿å­çš„ç”Ÿäº§è€…ã€‚æˆ‘è¦ç§Ÿæˆ¿å­ï¼Œä¸€å®šå¾—å’Œæˆ¿ä¸œåå•†ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªæ•ˆç‡å°±æ¯”è¾ƒä½äº†ï¼Œå¦‚æœè¿™ä¸ªæˆ¿å­æˆ‘è§‰å¾—ä¸åˆé€‚ï¼Œåªèƒ½å†å»çœ‹æˆ¿å­ï¼Œå†å’Œå…¶å®ƒçš„æˆ¿ä¸œè¿›è¡Œåå•†ï¼›è€Œæˆ¿ä¸œå‘ï¼Œå¥¹ä¹Ÿåªèƒ½ç­‰ç€æˆ¿å®¢æ¥çœ‹æˆ¿å­ã€‚")]),t._v(" "),s("p",[t._v("ä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªæœºæ„å®ƒèªæ˜å‘€ï¼Œä»–å¯èƒ½å·å·çœ‹äº†â€œç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹â€ï¼Œç†è§£åˆ°äº†å…¶ä¸­çš„çœŸè°›ï¼Œäºæ˜¯ï¼Œä»–ä½œä¸ºâ€œä¸­ä»‹â€çš„è§’è‰²å‡ºç°äº†...ç°åœ¨ï¼Œä»–åˆ°å„ä¸ªæˆ¿ä¸œæ‰‹ä¸Šæ”¶é›†æˆ¿æºï¼Œç„¶åæ•´ç†å‡ºæ¥ç»™ç§Ÿå®¢ä»¬é€‰æ‹©ï¼Œç„¶åé—·å£°å‘å¤§è´¢ã€‚")]),t._v(" "),s("p",[t._v("é‚£ä¹ˆï¼Œä¸­ä»‹è¿™ä¸ªè§’è‰²æ˜¯ä¸æ˜¯å°±ç›¸å½“äºâ€œå®¹å™¨â€æ¥è§£å†³ç”Ÿäº§è€…ï¼ˆæˆ¿ä¸œï¼‰å’Œæ¶ˆè´¹è€…(ç§Ÿå®¢)çš„å¼ºè€¦åˆé—®é¢˜ã€‚æˆ¿å®¢ä½çš„æˆ¿å­æœ‰é—®é¢˜äº†ï¼Œæ‰¾ä¸­ä»‹ï¼›æˆ¿ä¸œæƒ³æ¶¨æˆ¿ç§Ÿï¼Œæ‰¾ä¸­ä»‹ï¼›ä¸­ä»‹æ¥è°ƒå’Œæˆ¿ä¸œä¸æˆ¿å®¢ä¹‹é—´çš„é—®é¢˜ï¼Œä¸åœ¨éœ€è¦æˆ¿ä¸œä¸æˆ¿å®¢ä¹‹é—´æœ‰è”ç³»ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("ç”Ÿäº§æ¶ˆè´¹è€…æ¨¡å‹ï¼šåº”ç”¨åœ¨çº¿ç¨‹é—´é€šä¿¡")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("æ¶ˆè´¹é˜Ÿåˆ—å¯ä»¥ç”¨æ¥å¹³è¡¡ç”Ÿäº§å’Œæ¶ˆè´¹çš„çº¿ç¨‹èµ„æº")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("ç”Ÿäº§å’Œæ¶ˆè´¹æ˜¯å¼‚æ­¥çš„")]),t._v("ï¼Œç”Ÿäº§å’Œæ¶ˆè´¹å‘ç”Ÿåœ¨ä¸åŒæ—¶åˆ»ï¼Œç”Ÿäº§çš„ä¸ä¼šè¢«ç«‹åˆ»æ¶ˆè´¹")])]),t._v(" "),s("li",[s("p",[t._v("ç”Ÿäº§è€…ä»…è´Ÿè´£äº§ç”Ÿç»“æœæ•°æ®ï¼Œä¸å…³å¿ƒæ•°æ®è¯¥å¦‚ä½•å¤„ç†ï¼Œè€Œæ¶ˆè´¹è€…ä¸“å¿ƒå¤„ç†ç»“æœæ•°æ®")])]),t._v(" "),s("li",[s("p",[t._v("æ¶ˆæ¯é˜Ÿåˆ—æ˜¯æœ‰å®¹é‡é™åˆ¶çš„ï¼Œæ»¡æ—¶ä¸ä¼šå†åŠ å…¥æ•°æ®ï¼Œç©ºæ—¶ä¸ä¼šå†æ¶ˆè€—æ•°æ®")])]),t._v(" "),s("li",[s("p",[t._v("JDKä¸­å„ç§é˜»å¡é˜Ÿåˆ—ï¼Œé‡‡ç”¨çš„å°±æ˜¯è¿™ç§æ¨¡å¼")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/20210617213204.png",alt:"image-20200821180653899"}})])])}),[],!1,null,null,null);s.default=e.exports}}]);