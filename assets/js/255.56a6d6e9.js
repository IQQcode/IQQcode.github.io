(window.webpackJsonp=window.webpackJsonp||[]).push([[255],{582:function(s,t,a){"use strict";a.r(t);var n=a(3),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"一、常用ioc注解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、常用ioc注解"}},[s._v("#")]),s._v(" 一、常用IoC注解")]),s._v(" "),t("p",[s._v("在使用注解配置Spring时，"),t("kbd",[s._v("applicationContext.xml")]),s._v("配置如下：")]),s._v(" "),t("blockquote",[t("p",[s._v("告知Spring在创建容器时要扫描的包，配置所需要的标签不在beans中，而是在context名称空间约束中")])]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token prolog"}},[s._v('<?xml version="1.0" encoding="UTF-8"?>')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("beans")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("xmlns")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("http://www.springframework.org/schema/beans"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("xmlns:")]),s._v("xsi")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("http://www.w3.org/2001/XMLSchema-instance"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("xmlns:")]),s._v("context")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("http://www.springframework.org/schema/context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("xsi:")]),s._v("schemaLocation")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--告知Spring在创建容器时要扫描的包，配置所需要的标签不在beans中，而是在context名称空间约束中--\x3e")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("context:")]),s._v("component-scan")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("base-package")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("org.iqqcode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("beans")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200728154941.png",alt:""}})]),s._v(" "),t("h3",{attrs:{id:"_1-用于创建对象的"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-用于创建对象的"}},[s._v("#")]),s._v(" 1. 用于创建对象的")]),s._v(" "),t("p",[s._v("他们的作用就和在XML配置文件中编写一个"),t("kbd",[t("bean")],1),s._v("标签实现的功能是一样的")]),s._v(" "),t("p",[t("strong",[s._v("1. @Component")])]),s._v(" "),t("p",[s._v("【出现位置】：类上注解")]),s._v(" "),t("p",[s._v("【作用】：创建当前类对象，并且存入Spring容器中")]),s._v(" "),t("p",[s._v("【属性】：")]),s._v(" "),t("ul",[t("li",[s._v("value：用于指定bean的id。当我们不写时（属性只有一个），它的默认值是当前类名，且首字母改小写。如果有多个属性值时，必须全部指定出")])]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[s._v("2. @Controller")])]),s._v(" "),t("ul",[t("li",[s._v("一般用在表现层")])]),s._v(" "),t("p",[t("strong",[s._v("3. @Service")])]),s._v(" "),t("ul",[t("li",[s._v("一般用在业务层")])]),s._v(" "),t("p",[t("strong",[s._v("4. Repository")])]),s._v(" "),t("ul",[t("li",[s._v("一般用在持久层")])]),s._v(" "),t("p",[s._v("以上三个注解他们的作用和属性与Component是一模一样，是对Component的继承。")]),s._v(" "),t("p",[s._v("他们三个是Spring框架为我们提供明确的三层使用的注解，使我们的三层对象更加清晰")]),s._v(" "),t("h3",{attrs:{id:"_2-用于注入数据的"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-用于注入数据的"}},[s._v("#")]),s._v(" 2. 用于注入数据的")]),s._v(" "),t("p",[s._v("他们的作用就和在XML配置文件中的bean标签中写一个"),t("kbd",[t("property")],1),s._v("标签的作用是一样的")]),s._v(" "),t("h4",{attrs:{id:"_1-autowired"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-autowired"}},[s._v("#")]),s._v(" 1. @Autowired")]),s._v(" "),t("p",[s._v("【出现位置】：可以是变量上，也可以是方法上")]),s._v(" "),t("p",[s._v("【作用】")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("如果IoC容器中有"),t("em",[s._v("一个")]),s._v("类型匹配时，只要容器中有唯一的一个bean对象类型和要注入的变量类型匹配，就可以注入成功")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200430083144.png",alt:""}})])]),s._v(" "),t("li",[t("p",[s._v("如果IoC容器中没有任何bean的类型和要注入的变量类型匹配，则报错。")])]),s._v(" "),t("li",[t("p",[s._v("如果IoC容器中有"),t("em",[s._v("多个")]),s._v("类型匹配时：先按照数据类型确定匹配的范围，然后按照变量名称作为唯一"),t("code",[s._v("id")]),s._v("，使用"),t("code",[s._v("@Qualifier")]),s._v("在确定的范围中精确匹配")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200430084514.png",alt:""}})])])]),s._v(" "),t("blockquote",[t("p",[s._v("细节：在使用注解注入时，Setter方法就不是必须的了，可以不写")])]),s._v(" "),t("h4",{attrs:{id:"_2-qualifier"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-qualifier"}},[s._v("#")]),s._v(" 2. @Qualifier")]),s._v(" "),t("p",[s._v("【作用】：在按照类中注入的基础之上再按照"),t("code",[s._v("id")]),s._v("名称注入。")]),s._v(" "),t("p",[s._v("它在给类成员注入时不能单独使用，但是在给方法参数注入时可以直接使用。")]),s._v(" "),t("p",[s._v("【使用】：它在给类成员注入时不能单独使用，必须与"),t("code",[s._v("@Autowired")]),s._v("配合使用。"),t("code",[s._v("@Autowired")]),s._v("确定类的匹配范围，"),t("code",[s._v("@Qualifier")]),s._v("根据变量名"),t("code",[s._v("id")]),s._v("精确匹配")]),s._v(" "),t("p",[s._v("【属性】")]),s._v(" "),t("ul",[t("li",[s._v("value：用于指定注入bean的id")])]),s._v(" "),t("p",[t("kbd",[s._v("UserDaoImpl")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200430085142.png",alt:""}})]),s._v(" "),t("p",[t("kbd",[s._v("UserServiceImpl")]),s._v("为userDao1类注入数据")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200430085317.png",alt:""}})]),s._v(" "),t("p",[s._v("【在方法上直接使用】")]),s._v(" "),t("p",[s._v("出现多个连接对象时，我们指定连接某一个：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200501154820.png",alt:""}})]),s._v(" "),t("h4",{attrs:{id:"_3-resource"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-resource"}},[s._v("#")]),s._v(" 3. @Resource")]),s._v(" "),t("p",[s._v("【作用】：区别于直接按照bean的id注入，它可以独立使用")]),s._v(" "),t("p",[s._v("【 属性】")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("name")]),s._v("：用于指定bean的"),t("code",[s._v("id")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200501123322.png",alt:""}})]),s._v(" "),t("p",[s._v("以上三 个注入都只能注入"),t("strong",[s._v("其他bean类型")]),s._v("的数据，而基本类型和String类型无法使用上述注解实现。")]),s._v(" "),t("p",[s._v("另外，集合类型的注入只能通过XML来实现。")]),s._v(" "),t("hr"),s._v(" "),t("p",[s._v("【@Resource-@Autowired-@Qualifier三个注解小结】")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("@Autowired")]),s._v(" ：按照数据类型从Spring容器中进行匹配(如果有多个相同类型则不能匹配，结合@Qualifier)")])]),s._v(" "),t("li",[t("p",[t("code",[s._v('@Qualifier("userDao")')]),s._v(" ：按照id值从容器中进行匹配，必须结合Autowired一起使用")])]),s._v(" "),t("li",[t("p",[t("code",[s._v('@Resource(name = "userDao")')]),s._v("：相当于@Autowired + @Qualifier")])])]),s._v(" "),t("p",[t("kbd",[s._v("示例")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Service")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"userService"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserServiceImpl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserService")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//<property name="userDao" ref="userDao"/>')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//@Autowired  //按照数据类型从Spring容器中进行匹配(如果有多个相同类型则不能匹配，结合@Qualifier)")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//@Qualifier("userDao")  //按照id值从容器中进行匹配，必须结合Autowired一起使用')]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Resource")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"userDao"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//相当于@Autowired + @Qualifier")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserDao")]),s._v(" userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserServiceImpl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserServiceImpl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserDao")]),s._v(" userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("userDao "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("login")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("login")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("hr"),s._v(" "),t("h4",{attrs:{id:"_4-value"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-value"}},[s._v("#")]),s._v(" 4. @Value")]),s._v(" "),t("p",[s._v("【作用】：用于注入基本类型和String类型的数据")]),s._v(" "),t("p",[s._v("【属性】：")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("value")]),s._v("：用于指定数据的值。它可以使用spring中SpEL(也就是spring的el表达式）")])]),s._v(" "),t("li",[t("p",[s._v("SpEL的写法："),t("code",[s._v("${表达式}")])])])]),s._v(" "),t("h3",{attrs:{id:"_3-用于改变作用范围的"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-用于改变作用范围的"}},[s._v("#")]),s._v(" 3. 用于改变作用范围的")]),s._v(" "),t("p",[s._v("他们的作用就和在bean标签中使用"),t("code",[s._v("scope")]),s._v("属性实现的功能是一样的")]),s._v(" "),t("h4",{attrs:{id:"scope"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scope"}},[s._v("#")]),s._v(" @Scope")]),s._v(" "),t("p",[s._v("【作用】：用于指定bean的作用范围")]),s._v(" "),t("p",[s._v("【属性】")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("value")]),s._v("：指定范围的取值，默认是单例的")]),s._v(" "),t("ul",[t("li",[s._v("常用取值：singleton(单例)，prototype(多例)")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200501123701.png",alt:""}})])])]),s._v(" "),t("h3",{attrs:{id:"_4-与生命周期相关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-与生命周期相关"}},[s._v("#")]),s._v(" 4. 与生命周期相关")]),s._v(" "),t("p",[s._v("他们的作用就和在bean标签中使用"),t("code",[s._v("init-method")]),s._v("和"),t("code",[s._v("destroy-methode")]),s._v("的作用是一样的")]),s._v(" "),t("h4",{attrs:{id:"predestroy"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#predestroy"}},[s._v("#")]),s._v(" @PreDestroy")]),s._v(" "),t("ul",[t("li",[s._v("作用：用于指定销毁方法")])]),s._v(" "),t("h4",{attrs:{id:"postconstruct"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#postconstruct"}},[s._v("#")]),s._v(" @PostConstruct")]),s._v(" "),t("ul",[t("li",[s._v("作用：用于指定初始化方法")])]),s._v(" "),t("h2",{attrs:{id:"二、配置相关的新注解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、配置相关的新注解"}},[s._v("#")]),s._v(" 二、配置相关的新注解")]),s._v(" "),t("blockquote",[t("p",[s._v("通过注解配置类来取代"),t("code",[s._v("applicationContext.xml")]),s._v("配置文件")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200728170533.png",alt:""}})]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[t("code",[s._v("@Configuration")])])]),s._v(" "),t("p",[s._v("【作用】：指定当前类是一个配置类")]),s._v(" "),t("p",[s._v("【细节】：当配置类作为AnnotationConfigApplicationContext对象创建的参数时，该注解可以不写。")]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[t("code",[s._v("@ComponentScan")])])]),s._v(" "),t("p",[s._v("【作用】：用于通过注解指定Spring在创建容器时要扫描的包")]),s._v(" "),t("p",[s._v("【属性】")]),s._v(" "),t("ul",[t("li",[s._v("value：它和basePackages的作用是一样的，都是用于指定创建容器时要扫描的包。")])]),s._v(" "),t("p",[s._v("我们使用此注解就等同于在xml中配置了:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('<context:component-scan base-package="org.iqqcdode"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("hr"),s._v(" "),t("p",[t("strong",[t("code",[s._v("@Bean")])])]),s._v(" "),t("p",[s._v("【作用】：用于把当前方法的返回值作为bean对象存入Spring IoC容器中")]),s._v(" "),t("ul",[t("li",[s._v("name：用于指定bean的"),t("code",[s._v("id")]),s._v("。当不写时，默认值是当前方法的名称")])]),s._v(" "),t("p",[s._v("当我们使用注解配置方法时，如果方法有参数， Spring框架会去容器中查找有没有可用的bean对象，查找的方式和Autowired注解的作用是一样的")]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[t("code",[s._v("@Scope")])])]),s._v(" "),t("ul",[t("li",[s._v('@Scope("prototype")，配置多例对象')])]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[t("code",[s._v("@Import")])])]),s._v(" "),t("p",[s._v("当我们有多个配置类时，要将不同的配置类分开写在不同类中。此时，需要有一个主配置类来管理其他子配置类。"),t("code",[s._v("@Import")]),s._v("注解就相当于把其他配置类（如：JdbcConfig）都导入到主配置类中（SpringConfiguration），只需要加载主配置类，即可加载全部的子配置类。")]),s._v(" "),t("p",[s._v("主配置类：")]),s._v(" "),t("p",[t("kbd",[s._v("SpringConfiguration")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200501131831.png",alt:""}})]),s._v(" "),t("p",[s._v("子配置类：")]),s._v(" "),t("p",[t("kbd",[s._v("JdbcConfig")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200501132032.png",alt:""}})]),s._v(" "),t("p",[s._v("【作用】：用于导入其他的配置类\n【属性】")]),s._v(" "),t("ul",[t("li",[s._v("value：用于指定其他配置类的字节码")])]),s._v(" "),t("p",[s._v("当我们使用Import的注解之后，有Import注解的类就父配置类，而导入的都是配置类.。可以理解为继承关系")]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[t("code",[s._v("@PropertySource")])])]),s._v(" "),t("p",[s._v("【作用】：用于指定properties文件的位置")]),s._v(" "),t("p",[s._v("【属性】")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("value：指定文件的名称和路径。")])]),s._v(" "),t("li",[t("p",[s._v("关键字：classpath，表示类路径下")])])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@PropertySource")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"classpath:jdbcConfig.properties"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("kbd",[s._v("jdbcConfig.properties")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("jdbc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("driver"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jdbc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Driver")]),s._v("\njdbc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("url"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("jdbc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("localhost"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("db_test"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("characterEncoding"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("useSSL"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\njdbc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("username"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\njdbc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("password"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1234")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("该类是一个配置类，它的作用和"),t("code",[s._v("ApplicationContext.xml")]),s._v("是一样的")])])}),[],!1,null,null,null);t.default=e.exports}}]);