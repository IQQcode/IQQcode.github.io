(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{419:function(n,a,t){"use strict";t.r(a);var e=t(3),r=Object(e.a)({},(function(){var n=this,a=n._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h5",{attrs:{id:"fragmentæ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fragmentæ¦‚è¿°"}},[n._v("#")]),n._v(" Fragmentæ¦‚è¿°")]),n._v(" "),a("p",[n._v("Fragmentæ˜¯Activityä¸­ç”¨æˆ·ç•Œé¢çš„ä¸€ä¸ªè¡Œä¸ºæˆ–è€…è¯´æ˜¯ä¸€éƒ¨åˆ†ã€‚ä¸»è¦æ˜¯æ”¯æŒå¤§å±å¹•ä¸ŠåŠ¨æ€æ˜¾ç¤ºå’Œæ›´ä¸ºçµæ´»çš„å»ç»„åˆæˆ–æ˜¯äº¤æ¢UIç»„ä»¶ï¼Œé€šè¿‡å°†Activityçš„å¸ƒå±€åˆ†å‰²æˆè‹¥å¹²ä¸ªfragmentï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶ç¼–è¾‘activityçš„å‘ˆç°ï¼Œå¹¶ä¸”é‚£äº›å˜åŒ–ä¼šè¢«ä¿å­˜åœ¨ç”±activityç®¡ç†çš„åå°æ ˆé‡Œé¢ã€‚\n**Fragmentå¿…é¡»æ€»æ˜¯è¢«åµŒå…¥åˆ°ä¸€ä¸ªactivityä¹‹ä¸­ï¼Œ**å¹¶ä¸”fragmentçš„ç”Ÿå‘½å‘¨æœŸç›´æ¥æ¥å—å…¶å®¿ä¸»activityçš„ç”Ÿå‘½å‘¨æœŸçš„å½±å“ã€‚ä½ å¯ä»¥è®¤ä¸ºfragmentæ˜¯activityçš„ä¸€ä¸ªæ¨¡å—é›¶ä»¶ï¼Œå®ƒæœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ¥æ”¶å®ƒè‡ªå·±çš„è¾“å…¥çš„äº‹ä»¶ï¼Œå¹¶ä¸”å¯ä»¥åœ¨activityè¿è¡Œæ—¶æ·»åŠ æˆ–è€…åˆ é™¤ã€‚\n**åº”è¯¥å°†æ¯ä¸€ä¸ªfragmentè®¾è®¡ä¸ºæ¨¡å—åŒ–å’Œå¯å¤ç”¨åŒ–çš„activityç»„ä»¶ã€‚**ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥åœ¨å¤šä¸ªactivityä¸­å¼•ç”¨åŒä¸€ä¸ªfragmentï¼Œå› ä¸ºfragmentå®šä¹‰äº†å®ƒè‡ªå·±çš„å¸ƒå±€ï¼Œå¹¶ä¸”ä½¿ç”¨å®ƒæœ¬èº«ç”Ÿå‘½å‘¨æœŸå›è°ƒçš„è¡Œä¸ºã€‚")]),n._v(" "),a("ul",[a("li",[a("p",[n._v("å…ˆçœ‹fragmentç”Ÿå‘½å‘¨æœŸå›¾ï¼š")]),n._v(" "),a("p",[a("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-befo/20210328203650.webp",alt:"img"}}),n._v(" "),a("em",[n._v("Fragmentå‘¨æœŸå›¾")])])]),n._v(" "),a("li",[a("p",[n._v("åœ¨çœ‹Fragmentä¾é™„äºActivityçš„ç”Ÿå‘½çŠ¶æ€å›¾ï¼š")]),n._v(" "),a("p",[a("img",{attrs:{src:"https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-befo/20210328203644.webp",alt:"img"}}),n._v(" "),a("em",[n._v("Fragmentå’ŒActivityç”Ÿå‘½å‘¨æœŸç»¼åˆå›¾")])])])]),n._v(" "),a("p",[n._v("Fragmentç”Ÿå‘½å‘¨æœŸä¸­çš„é‚£ä¹ˆå¤šæ–¹æ³•ï¼Œå¿«æ¥å­¦ä¹ ä¸€ä¸‹å§ï¼go go go")]),n._v(" "),a("h5",{attrs:{id:"fragmentç”Ÿå‘½å‘¨æœŸæ–¹æ³•å«ä¹‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fragmentç”Ÿå‘½å‘¨æœŸæ–¹æ³•å«ä¹‰"}},[n._v("#")]),n._v(" Fragmentç”Ÿå‘½å‘¨æœŸæ–¹æ³•å«ä¹‰ï¼š")]),n._v(" "),a("ul",[a("li",[a("strong",[a("code",[n._v("public void onAttach(Context context)")])]),n._v("\nonAttach()æ–¹æ³•ä¼šåœ¨Fragmentä¸Activityçª—å£å…³è”åç«‹åˆ»è°ƒç”¨ã€‚ä»è¯¥æ–¹æ³•å¼€å§‹ï¼Œå°±å¯ä»¥é€šè¿‡Fragment.getActivity()æ–¹æ³•è·å–ä¸Fragmentå…³è”çš„Activtiyçª—å£å¯¹è±¡ï¼Œä½†å› ä¸ºFragmentçš„æ§ä»¶æœªåˆå§‹åŒ–ï¼Œæ‰€ä»¥ä¸èƒ½å¤Ÿæ“ä½œæ§ä»¶ã€‚")]),n._v(" "),a("li",[a("strong",[a("code",[n._v("public void onCreate(Bundle savedInstanceState)")])]),n._v("\nåœ¨è°ƒç”¨å®ŒonAttach()æ‰§è¡Œå®Œä¹‹åï¼Œç«‹å³å°±ä¼šè°ƒç”¨onCreate()æ–¹æ³•ï¼Œå¯ä»¥åœ¨Bundleå¯¹è±¡ä¸­è·å–ä¸€äº›åœ¨Activityä¸­ä¼ è¿‡æ¥çš„æ•°æ®ã€‚é€šå¸¸ä¼šåœ¨è¯¥æ–¹æ³•ä¸­è¯»å–ä¿å­˜çš„è½¬æ€ï¼Œè·å–æˆ–åˆå§‹åŒ–ä¸€äº›æ•°æ®ã€‚åœ¨è¯¥æ–¹æ³•ä¸­ä¸è¦è¿›è¡Œè€—æ—¶æ“ä½œï¼Œä¸ç„¶Activityçª—å£ä¸ä¼šæ˜¾ç¤ºã€‚")]),n._v(" "),a("li",[a("strong",[a("code",[n._v("public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState)")])]),n._v("\nè¯¥æ–¹æ³•æ˜¯Fragmentå¾ˆé‡è¦çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå› ä¸ºä¼šåœ¨è¯¥æ–¹æ³•ä¸­åˆ›å»ºFragmentæ˜¾ç¤ºçš„Viewï¼Œå…¶ä¸­inflateræ˜¯ç”¨æ¥è£…è½½å¸ƒå±€æ–‡ä»¶çš„ï¼Œcontaineræ˜¯"),a("fragment",[n._v("æ ‡ç­¾çš„çˆ¶æ ‡ç­¾å¯¹åº”å¯¹è±¡ï¼ŒsaveInstanceStateå‚æ•°å¯ä»¥è·å–Fragmentä¿å­˜çš„è½¬æ€ï¼Œå¦‚æœæœªä¿å­˜é‚£ä¹ˆå°±ä¸ºnullã€‚")])],1),n._v(" "),a("li",[a("strong",[a("code",[n._v("public void onViewCreated(View view,Bundle savedInstanceState)")])]),n._v("\nAndroidåœ¨åˆ›å»ºå®ŒFragmentä¸­çš„Viewå¯¹è±¡ä¹‹åï¼Œä¼šç«‹åˆ»å›è°ƒè¯¥æ–¹æ³•ã€‚å…¶ä¸­viewå‚æ•°å°±æ˜¯onCreateViewä¸­è¿”å›çš„viewï¼Œè€Œbundleå¯¹è±¡ç”¨äºä¸€èˆ¬ç”¨é€”ã€‚")]),n._v(" "),a("li",[a("strong",[a("code",[n._v("public void onActivityCreated(Bundle savedInstanceState)")])]),n._v("\nåœ¨Activityçš„onCreate()æ–¹æ³•æ‰§è¡Œå®Œä¹‹åï¼ŒAndroidç³»ç»Ÿä¼šç«‹åˆ»è°ƒç”¨è¯¥æ–¹æ³•ï¼Œè¡¨ç¤ºActivityçª—å£å·²ç»åˆå§‹åŒ–å®Œæˆï¼Œä»è¿™ä¸€ä¸ªæ—¶å€™å¼€å§‹ï¼Œå°±å¯ä»¥åœ¨Fragmentä¸­ä½¿ç”¨getActivity().findViewById(R.id.xxx)ï¼›æ¥æ“ä½œActivityä¸­çš„viewäº†ã€‚")]),n._v(" "),a("li",[n._v("â€‹        "),a("strong",[a("code",[n._v("public void onStart()")])]),n._v("\nè¿™ä¸ªæ²¡å•¥å¯è®²çš„ï¼Œä½†æ˜¯ä¸€ä¸ªç»†èŠ‚éœ€è¦çŸ¥é“ï¼Œå½“ç³»ç»Ÿè°ƒç”¨è¯¥æ–¹æ³•çš„æ—¶å€™ï¼Œfragmentå·²ç»æ˜¾ç¤ºåœ¨UIä¸Šäº†ï¼Œä½†è¿˜ä¸èƒ½è¿›è¡Œäº’åŠ¨ï¼Œå› ä¸ºonResume()æ–¹æ³•è¿˜æ²¡æœ‰æ‰§è¡Œå®Œã€‚")]),n._v(" "),a("li",[a("strong",[a("code",[n._v("public void onResume()")])]),n._v("\nè¯¥æ–¹æ³•ä¸ºfragmentä»åˆ›å»ºåˆ°æ˜¾ç¤ºAndroidç³»ç»Ÿè°ƒç”¨çš„æœ€åä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè°ƒç”¨å®Œè¯¥æ–¹æ³•æ—¶å€™ï¼Œfragmentå°±å¯ä»¥ä¸ç”¨æˆ·äº’åŠ¨äº†ã€‚")]),n._v(" "),a("li",[a("strong",[a("code",[n._v("public void onPause()")])]),n._v("\nfragmentç”±æ´»åŠ¨çŠ¶æ€å˜æˆéæ´»è·ƒæ‰§è¡Œçš„ç¬¬ä¸€ä¸ªå›è°ƒæ–¹æ³•ï¼Œé€šå¸¸å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ä¿å­˜ä¸€äº›éœ€è¦ä¸´æ—¶æš‚åœçš„å·¥ä½œã€‚ä¾‹å¦‚ï¼šå­˜éŸ³ä¹æ’­æ”¾é€Ÿåº¦ï¼Œç„¶ååœ¨onResume()æ–¹æ³•ä¸­æ¢å¤éŸ³ä¹æ’­æ”¾è¿›åº¦ã€‚")]),n._v(" "),a("li",[a("strong",[a("code",[n._v("public void onStop()")])]),n._v("\nå½“onStop()è¿”å›çš„æ—¶å€™ï¼Œfragmentå°†ä»å±å¹•ä¸Šæ¶ˆå¤±ã€‚")]),n._v(" "),a("li",[a("strong",[a("code",[n._v("public void onDestoryView()")])]),n._v("\nè¯¥æ–¹æ³•çš„è°ƒç”¨æ„å‘³ç€åœ¨onCreateView()ä¸­åˆ›å»ºçš„è§†å›¾éƒ½å°†è¢«ç§»é™¤ã€‚")]),n._v(" "),a("li",[a("strong",[a("code",[n._v("public void onDestroy()")])]),n._v("\nAndroidåœ¨Fragmentä¸å†ä½¿ç”¨æ—¶ä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œè¦æ³¨æ„çš„æ˜¯~è¿™æ˜¯Fragmentè¿˜å’ŒActivityæ˜¯è—•æ–­ä¸è¿ï¼å¹¶ä¸”å¯ä»¥è·å¾—Fragmentå¯¹è±¡ï¼Œä½†æ— æ³•å¯¹è·å¾—çš„Fragmentè¿›è¡Œä»»ä½•æ“ä½œã€‚")]),n._v(" "),a("li",[a("strong",[a("code",[n._v("public void onDetach()")])]),n._v("\nä¸ºFragmentç”Ÿå‘½å‘¨æœŸä¸­çš„æœ€åä¸€ä¸ªæ–¹æ³•ï¼Œå½“è¯¥æ–¹æ³•æ‰§è¡Œå®Œåï¼ŒFragmentä¸Activityä¸å†æœ‰å…³è”ã€‚")])]),n._v(" "),a("h5",{attrs:{id:"fragmentæ¯”activityå¤šäº†å‡ ä¸ªé¢å¤–çš„ç”Ÿå‘½å‘¨æœŸå›è°ƒæ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fragmentæ¯”activityå¤šäº†å‡ ä¸ªé¢å¤–çš„ç”Ÿå‘½å‘¨æœŸå›è°ƒæ–¹æ³•"}},[n._v("#")]),n._v(" Fragmentæ¯”Activityå¤šäº†å‡ ä¸ªé¢å¤–çš„ç”Ÿå‘½å‘¨æœŸå›è°ƒæ–¹æ³•ï¼š")]),n._v(" "),a("ul",[a("li",[n._v("**onAttach(Activity)ğŸ˜—*å½“Fragmentå’ŒActivityå‘ç”Ÿå…³è”æ—¶ä½¿ç”¨ã€‚")]),n._v(" "),a("li",[n._v("**onCreateView(LayoutInflater,ViewGroup,Bundle)ğŸ˜—*åˆ›å»ºè¯¥Fragmentçš„è§†å›¾")]),n._v(" "),a("li",[n._v("**onActivityCreate(Bundle)ğŸ˜—*å½“Activityçš„onCreate()æ–¹æ³•è¿”å›æ—¶è°ƒç”¨")]),n._v(" "),a("li",[n._v("**onDestoryView()ğŸ˜—*ä¸onCreateViewç›¸å¯¹åº”ï¼Œå½“è¯¥Fragmentçš„è§†å›¾è¢«ç§»é™¤æ—¶è°ƒç”¨")]),n._v(" "),a("li",[n._v("**onDetach()ğŸ˜—*ä¸onAttach()ç›¸å¯¹åº”ï¼Œå½“Fragmentä¸Activityå…³è”è¢«å–æ¶ˆæ—¶è°ƒç”¨\n"),a("strong",[n._v("æ³¨æ„ï¼šé™¤äº†onCreateView()æ–¹æ³•ï¼Œå…¶ä»–çš„æ‰€æœ‰çš„æ–¹æ³•å¦‚æœä½ é‡å†™äº†ï¼Œå¿…é¡»è°ƒç”¨çˆ¶ç±»å¯¹äºè¯¥æ–¹æ³•çš„å®ç°")])])]),n._v(" "),a("h5",{attrs:{id:"ç®¡ç†fragmentç”Ÿå‘½å‘¨æœŸä¸ç®¡ç†activityç”Ÿå‘½å‘¨æœŸå¾ˆç›¸åƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç®¡ç†fragmentç”Ÿå‘½å‘¨æœŸä¸ç®¡ç†activityç”Ÿå‘½å‘¨æœŸå¾ˆç›¸åƒ"}},[n._v("#")]),n._v(" ç®¡ç†fragmentç”Ÿå‘½å‘¨æœŸä¸ç®¡ç†activityç”Ÿå‘½å‘¨æœŸå¾ˆç›¸åƒ")]),n._v(" "),a("p",[n._v("åƒactivityä¸€æ ·ï¼Œfragmentä¹Ÿæœ‰ä¸‰ç§çŠ¶æ€ï¼š")]),n._v(" "),a("ul",[a("li",[a("p",[a("strong",[n._v("Resumed")]),n._v("\nfragmentåœ¨è¿è¡Œä¸­çš„activityä¸­å¯è§")])]),n._v(" "),a("li",[a("p",[a("strong",[n._v("Paused")]),n._v("\nå¦ä¸€ä¸ªactivityå¤„äºå‰å°ä¸”å¾—åˆ°ç„¦ç‚¹ï¼Œä½†æ˜¯è¿™ä¸ªfragmentæ‰€åœ¨çš„activtiyä»ç„¶å¯è§ï¼ˆå‰å°activityéƒ¨åˆ†é€æ˜ï¼Œæˆ–è€…æ²¡æœ‰è¦†ç›–å…¨å±ï¼‰ã€‚")])]),n._v(" "),a("li",[a("p",[n._v("Stopped")]),n._v(" "),a("p",[n._v("fragmentä¸å¯è§ã€‚è¦ä¹ˆå®¿ä¸»activityå·²ç»åœæ­¢ï¼Œè¦ä¹ˆfragmentå·²ç»ä»activityä¸Šç§»é™¤ï¼Œä½†å·²è¢«æ·»åŠ åˆ°åå°æ ˆä¸­ã€‚ä¸€ä¸ªåœæ­¢çš„fragmentä»ç„¶æ´»ç€ï¼ˆæ‰€æœ‰çš„çŠ¶æ€å’Œæˆå‘˜ä¿¡æ¯ä»ç„¶ç”±ç³»ç»Ÿä¿ç•™ç€ï¼‰ã€‚ä½†æ˜¯ï¼Œå®ƒå¯¹äºç”¨æˆ·æ¥è®²å·²ç»ä¸å†å¯è§ï¼Œå¹¶ä¸”å¦‚æœactivityè¢«æ€æ‰ï¼Œå®ƒä¹Ÿå°†è¢«æ€æ‰ã€‚")]),n._v(" "),a("p",[n._v("â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")]),n._v(" "),a("p",[n._v("å¦‚æœactivityçš„è¿›ç¨‹è¢«æ€æ‰äº†ï¼Œåœ¨activityè¢«é‡æ–°åˆ›å»ºæ—¶ï¼Œä½ æ¢å¤fragmentçŠ¶æ€ã€‚å¯ä»¥æ‰§è¡Œfragmentçš„onSaveIntanceState()æ¥ä¿å­˜çŠ¶æ€ï¼ˆæ³¨æ„ï¼šfragmentæ˜¯åœ¨onCreate(),onCreateView()æˆ–è€…onActivityCreate()ä¸­è¿›è¡Œæ¢å¤ï¼‰")]),n._v(" "),a("p",[n._v("åœ¨ç”Ÿå‘½å‘¨æœŸæ–¹é¢ï¼Œactivityå’Œfragmentä¹‹é—´ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸åŒ")]),n._v(" "),a("p",[n._v("å°±æ˜¯åœ¨å„è‡ªçš„åå°æ ˆä¸­æ˜¯å¦‚ä½•å­˜å‚¨çš„ã€‚å½“")]),n._v(" "),a("p",[n._v("activityåœæ­¢æ—¶")]),n._v(" "),a("p",[n._v("ï¼Œé»˜è®¤æƒ…å†µä¸‹activityè¢«å®‰ç½®åœ¨ç”±ç³»ç»Ÿç®¡ç†çš„activityåå°æ ˆä¸­ï¼›")]),n._v(" "),a("p",[n._v("fragment")]),n._v(" "),a("p",[n._v("ä»…å½“åœ¨ä¸€ä¸ªäº‹åŠ¡è¢«ç§»é™¤æ—¶ï¼Œé€šè¿‡æ˜¾å¼è°ƒç”¨addToBackStack()è¯·æ±‚ä¿å­˜çš„å®ä¾‹ï¼Œè¯¥fragmentæ‰è¢«ç½®äºç”±å®¿ä¸»activityç®¡ç†çš„åå°æ ˆã€‚")]),n._v(" "),a("p",[n._v("è¦åˆ›å»ºä¸€ä¸ªfragmentï¼Œå¿…é¡»åˆ›å»ºä¸€ä¸ªfragmentçš„å­ç±»ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è‡³å°‘éœ€è¦å®ç°ä»¥ä¸‹å‡ ä¸ªfragmentç”Ÿå‘½å‘¨æœŸçš„æ–¹æ³•:onCreate(),onCreateView(),onPause()")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                                    Bundle savedInstanceState) {ã€€\n          // Inflate the layout for this fragment\n         return inflater.inflate(R.layout.example_fragment, \n                                               container, false);\n}å¤åˆ¶ä»£ç \n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br")])]),a("p",[n._v("inflate()å‡½æ•°éœ€è¦ä»¥ä¸‹ä¸‰ä¸ªå‚æ•°ï¼š")]),n._v(" "),a("p",[n._v("(1).è¦inflateçš„å¸ƒå±€çš„èµ„æºId")]),n._v(" "),a("p",[n._v("(2).è¢«inflateçš„å¸ƒå±€çš„çˆ¶ViewGroup")]),n._v(" "),a("p",[n._v("(3).ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨æ˜åœ¨inflateæœŸé—´è¢«inflateçš„å¸ƒå±€æ˜¯å¦åº”è¯¥é™„ä¸ŠViewGroupï¼ˆç¬¬äºŒä¸ªå‚æ•°containerï¼‰ã€‚ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­ä¼ å…¥çš„æ˜¯falseï¼Œå› ä¸ºç³»ç»Ÿå·²ç»å°†è¢«inflateçš„å¸ƒå±€æ’å…¥åˆ°å®¹å™¨ä¸­ï¼ˆcontainerï¼‰â€”â€”ä¼ å…¥trueä¼šåœ¨æœ€ç»ˆçš„å¸ƒå±€é‡Œåˆ›å»ºä¸€ä¸ªå¤šä½™çš„ViewGroupï¼‰")])])]),n._v(" "),a("h5",{attrs:{id:"fragmentä¸activityä¹‹é—´çš„äº¤äº’"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fragmentä¸activityä¹‹é—´çš„äº¤äº’"}},[n._v("#")]),n._v(" Fragmentä¸Activityä¹‹é—´çš„äº¤äº’ï¼š")]),n._v(" "),a("ul",[a("li",[a("p",[n._v("å°†Fragmentæ·»åŠ åˆ°activityä¹‹ä¸­\nå¯ä»¥é€šè¿‡åœ¨activtiyå¸ƒå±€æ–‡ä»¶ä¸­å£°æ˜fragmentï¼Œç”¨fragmentæ ‡ç­¾æŠŠfragmentæ’å…¥åˆ°activityçš„å¸ƒå±€ä¸­ï¼Œæˆ–è€…æ˜¯ç”¨åº”ç”¨ç¨‹åºæºç å°†å®ƒæ·»åŠ åˆ°ä¸€ä¸ªå­˜åœ¨çš„ViewGroupä¸­ã€‚ä½†fragmentå¹¶ä¸æ˜¯ä¸€å®šè¦ä½œä¸ºactivityå¸ƒå±€çš„ä¸€éƒ¨åˆ†ï¼Œfragmentä¹Ÿå¯ä»¥ä¸ºactivityéšèº«å·¥ä½œã€‚\n"),a("strong",[n._v("(1).åœ¨activityçš„å¸ƒå±€æ–‡ä»¶é‡Œå£°æ˜fragment")]),n._v("\nå¯ä»¥åƒviewä¸€æ ·ä¸ºfragmentæŒ‡å®šå¸ƒå±€å±æ€§ã€‚ä»£ç å¦‚ä¸‹ï¼š")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('  <?xml version="1.0" encoding="utf-8"?>\n  <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"\n      android:orientation="horizontal"\n      android:layout_width="match_parent"\n      android:layout_height="match_parent">ã€€\n\n      <fragment android:name="com.example.test.FragmentOne"\n              android:id="@+id/fo"\n              android:layout_width="match_parent"\n              android:layout_height="match_parent" />\n  </LinearLayout>å¤åˆ¶ä»£ç \n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br")])]),a("p",[n._v("fragmentæ ‡ç­¾ä¸­çš„android:nameå±æ€§æŒ‡å®šäº†å¸ƒå±€ä¸­å®ä¾‹åŒ–Fragmentç±»ã€‚\nå½“ç³»ç»Ÿåˆ›å»ºactivityå¸ƒå±€æ—¶ï¼Œå®ƒå®ä¾‹åŒ–äº†å¸ƒå±€æ–‡ä»¶ä¸­æŒ‡å®šçš„æ¯ä¸€ä¸ªfragmentï¼Œå¹¶ä¸ºå®ƒä»¬è°ƒç”¨onCeateView()å‡½æ•°ï¼Œä»¥è·å–æ¯ä¸€ä¸ªfragmentçš„å¸ƒå±€ã€‚ç³»ç»Ÿç›´æ¥åœ¨å…ƒç´ çš„ä½ç½®æ’å…¥fragmentè¿”å›çš„Viewã€‚\n"),a("strong",[n._v("æ³¨æ„ï¼šæ¯ä¸ªfragmentéƒ½éœ€è¦ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ï¼Œå¦‚æœé‡å¯activityï¼Œç³»ç»Ÿå¯ç”¨æ¥æ¢å¤fragmentï¼ˆå¹¶ä¸”å¯ç”¨æ¥æ•æ‰fragmentçš„äº‹åŠ¡å¤„ç†ï¼Œä¾‹å¦‚ï¼šç§»é™¤fragmentï¼‰ï¼Œä¸ºfragmentæä¾›äº†IDæœ‰ä¸‰ç§æ–¹æ³•ï¼š")]),n._v("\n1:>ç”¨android:idå±æ€§æä¾›ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†\n2:>ç”¨android:tagå±æ€§æä¾›ä¸€ä¸ªå”¯ä¸€çš„å­—ç¬¦ä¸²ã€‚\n3:>å¦‚æœä¸Šè¿°ä¸¤ç§å±æ€§éƒ½æ²¡æœ‰ï¼Œç³»ç»Ÿä¼šä½¿ç”¨å…¶å®¹å™¨è§†å›¾ï¼ˆviewï¼‰çš„IDã€‚\n"),a("strong",[n._v("(2).é€šè¿‡ç¼–ç å°†fragmentæ·»åŠ åˆ°å·²å­˜åœ¨çš„ViewGroupä¸­")]),n._v("\nåœ¨activityè¿è¡Œçš„ä»»ä½•æ—¶å€™ï¼Œä½ éƒ½å¯ä»¥å°†fragmentæ·»åŠ åˆ°activityå¸ƒå±€ä¸­ã€‚è¦ç®¡ç†activityä¸­çš„fragmentï¼Œå¯ä»¥ä½¿ç”¨FragmentManagerã€‚å¯ä»¥é€šè¿‡åœ¨activityä¸­è°ƒç”¨getFragmentManager()è·å¾—ã€‚ä½¿ç”¨FragmentManagerå¯ä»¥åšå¦‚ä¸‹äº‹æƒ…ï¼ŒåŒ…æ‹¬ï¼š\n1:>ä½¿ç”¨findFragmentById()ï¼ˆç”¨äºåœ¨activityå¸ƒå±€ä¸­æä¾›æœ‰ç•Œé¢çš„fragmentæˆ–è€…findFragmentByTag()è·å–activityä¸­å­˜åœ¨çš„fragmentï¼ˆç”¨äºæœ‰ç•Œé¢æˆ–è€…æ²¡æœ‰ç•Œé¢çš„fragmentï¼‰ï¼‰\n2:>ä½¿ç”¨popBackStack()ï¼ˆæ¨¡ä»¿ç”¨æˆ·çš„Backå‘½ä»¤ï¼‰ä»åå°æ ˆå¼¹å‡ºfragmentã€‚\n3:>ä½¿ç”¨addOnBackStackChangeListener()æ³¨å†Œä¸€ä¸ªç›‘å¬åå°æ ˆå˜åŒ–çš„ç›‘å¬å™¨ã€‚\nåœ¨androidä¸­ï¼Œå¯¹fragmentçš„äº‹åŠ¡æ“ä½œéƒ½æ˜¯é€šè¿‡FragmentTranSactionæ¥æ‰§è¡Œã€‚æ“ä½œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š\n1:>æ˜¾ç¤ºï¼šadd(),                replace(), show(), attach()\n2:>éšè—ï¼šremove(), hide(), detach()\n"),a("strong",[n._v("è¯´æ˜")]),n._v("ï¼šè°ƒç”¨show() & hide()æ–¹æ³•æ—¶ï¼ŒFragmentçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å¹¶ä¸ä¼šè¢«æ‰§è¡Œï¼Œä»…ä»…æ˜¯Fragmentçš„Viewè¢«æ˜¾ç¤ºæˆ–è€…â€‹éšè—ã€‚æ‰§è¡Œreplace()æ—¶ï¼ˆè‡³å°‘ä¸¤ä¸ªFragmentï¼‰ï¼Œä¼šæ‰§è¡Œç¬¬äºŒä¸ªFragmentçš„onAttach()æ–¹æ³•ã€æ‰§è¡Œç¬¬ä¸€ä¸ªFragmentçš„onPause()-onDetach()æ–¹æ³•ï¼ŒåŒæ—¶containerViewä¼šdetachç¬¬ä¸€ä¸ªFragmentçš„Viewã€‚add()æ–¹æ³•æ‰§è¡ŒonAttach()-onResume()çš„ç”Ÿå‘½å‘¨æœŸï¼Œç›¸å¯¹çš„remove()å°±æ˜¯æ‰§è¡Œå®Œæˆå‰©ä¸‹çš„onPause()-onDetach()å‘¨æœŸã€‚\nå¯ä»¥åƒä¸‹é¢è¿™æ ·ä»Activityä¸­å–å¾—FragmentTransactionçš„å®ä¾‹ï¼š")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("FragmentManager fragmentManager = getFragmentManager()ã€€\nFragmentTransaction fragmentTransaction = fragmentManager\n                                          .beginTransaction();å¤åˆ¶ä»£ç \n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br")])]),a("p",[n._v("å¯ä»¥ç”¨add()å‡½æ•°æ·»åŠ fragmentï¼Œå¹¶æŒ‡å®šè¦æ·»åŠ çš„fragmentä»¥åŠè¦å°†å…¶æ’å…¥åˆ°å“ªä¸ªè§†å›¾ï¼ˆviewï¼‰ä¹‹ä¸­ï¼ˆæ³¨æ„commitäº‹åŠ¡ï¼‰ï¼š")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("ExampleFragment fragment = new ExampleFragment();\nfragmentTransaction.add(R.id.fragment_container, fragment);\nfragmentTransaction.commit();å¤åˆ¶ä»£ç \n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br")])]),a("p",[a("strong",[n._v("(3).æ·»åŠ æ²¡æœ‰ç•Œé¢çš„fragment")]),n._v("\nä¹Ÿå¯ä»¥ä½¿ç”¨fragmentä¸ºactivityæä¾›åå°åŠ¨ä½œï¼Œå´ä¸å‘ˆç°å¤šä½™çš„ç”¨æˆ·ç•Œé¢ã€‚æƒ³è¦æ·»åŠ æ²¡æœ‰ç•Œé¢çš„fragment ï¼Œå¯ä»¥ä½¿ç”¨add(Fragment, String)ï¼ˆä¸ºfragmentæä¾›ä¸€ä¸ªå”¯ä¸€çš„å­—ç¬¦ä¸²â€œtagâ€ï¼Œè€Œä¸æ˜¯è§†å›¾ï¼ˆviewï¼‰IDï¼‰ã€‚è¿™æ ·æ·»åŠ äº†fragmentï¼Œä½†æ˜¯ï¼Œå› ä¸ºè¿˜æ²¡æœ‰å…³è”åˆ°activityå¸ƒå±€ä¸­çš„è§†å›¾ï¼ˆviewï¼‰ ï¼Œæ”¶ä¸åˆ°onCreateView()çš„è°ƒç”¨ã€‚æ‰€ä»¥ä¸éœ€è¦å®ç°è¿™ä¸ªæ–¹æ³•ã€‚å¯¹äºæ— ç•Œé¢fragmentï¼Œå­—ç¬¦ä¸²æ ‡ç­¾æ˜¯å”¯ä¸€è¯†åˆ«å®ƒçš„æ–¹æ³•ã€‚å¦‚æœä¹‹åæƒ³ä»activityä¸­å–åˆ°fragmentï¼Œéœ€è¦ä½¿ç”¨findFragmentByTag()ã€‚")])]),n._v(" "),a("li",[a("p",[n._v("Fragmentä¸Activityä¹‹é—´çš„äº¤äº’å¯ä»¥é€šè¿‡Fragment.setArguments(Bundle args)ä»¥åŠFragment.getArguments()æ¥å®ç°ã€‚")])])]),n._v(" "),a("h5",{attrs:{id:"fragmentçŠ¶æ€çš„æŒä¹…åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fragmentçŠ¶æ€çš„æŒä¹…åŒ–"}},[n._v("#")]),n._v(" FragmentçŠ¶æ€çš„æŒä¹…åŒ–ï¼š")]),n._v(" "),a("p",[n._v("ç”±äºActivityä¼šç»å¸¸æ€§çš„å‘ç”Ÿé…ç½®å˜åŒ–ï¼Œæ‰€ä»¥ä¾é™„å®ƒçš„Fragmentå°±æœ‰éœ€è¦å°†å…¶çŠ¶æ€ä¿å­˜èµ·æ¥é—®é¢˜ã€‚ä¸‹é¢æœ‰ä¸¤ç§å¸¸ç”¨çš„æ–¹æ³•å»å°†Fragmentçš„çŠ¶æ€æŒä¹…åŒ–ã€‚")]),n._v(" "),a("ul",[a("li",[a("p",[n._v("æ–¹æ³•ä¸€\nå¯ä»¥é€šè¿‡"),a("code",[n._v("protected void onSaveInstanceState(Bundle outState),protected void onRestoreInstanceState(Bundle savedInstanceState)")]),n._v("çŠ¶æ€ä¿å­˜å’Œæ¢å¤çš„æ–¹æ³•å°†çŠ¶æ€æŒä¹…åŒ–ã€‚")])]),n._v(" "),a("li",[a("p",[n._v("æ–¹æ³•äºŒï¼ˆæ›´ä¸ºæ–¹ä¾¿ï¼Œè®©Androidè‡ªåŠ¨å¸®æˆ‘ä»¬ä¿å­˜FragmentçŠ¶æ€ï¼‰\n**<1>.**æˆ‘ä»¬åªéœ€è¦å°†Fragmentåœ¨Activityä¸­ä½œä¸ºä¸€ä¸ªå˜é‡æ•´ä¸ªä¿å­˜ï¼Œåªè¦ä¿å­˜äº†Fragmentï¼Œé‚£ä¹ˆFragmentçš„çŠ¶æ€å°±å¾—åˆ°ä¿å­˜äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸‹é¢æ–¹æ³•ï¼Œè¿›è¡Œè·å–Fragmentæ•°æ®ã€‚")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("FragmentManager.putFragment(Bundle bundle, String key, Fragment \nfragment) æ˜¯åœ¨Activityä¸­ä¿å­˜Fragmentçš„æ–¹æ³•ã€‚\nFragmentManager.getFragment(Bundle bundle, String key) \næ˜¯åœ¨Activityä¸­è·å–æ‰€ä¿å­˜çš„Framentçš„æ–¹æ³•ã€‚å¤åˆ¶ä»£ç \n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br")])]),a("p",[n._v("**<2>.**å¾ˆæ˜¾ç„¶ï¼Œä¸Šè¿°<1>ä¸­çš„keyå°±ä¼ å…¥Fragmentçš„idï¼Œfragmentå°±æ˜¯ä½ è¦ä¿å­˜çŠ¶æ€çš„fragmentï¼Œä½†ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ä¸Šé¢çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯Bundleï¼Œè¿™å°±æ„å‘³ç€FragmentManageræ˜¯é€šè¿‡Bundleå»ä¿å­˜Fragmentçš„ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•ä»…ä»…èƒ½å¤Ÿä¿å­˜Fragmentä¸­çš„æ§ä»¶çŠ¶æ€ï¼Œæ¯”å¦‚è¯´ï¼šEditTextä¸­ç”¨æˆ·å·²ç»è¾“å…¥çš„æ–‡å­—ï¼ˆæ³¨æ„ï¼šåœ¨è¿™é‡Œï¼Œæ§ä»¶éœ€è¦è®¾ç½®ä¸€ä¸ªidå€¼ï¼Œå¦åˆ™Androidå°†ä¸ä¼šä¸ºæˆ‘ä»¬ä¿å­˜è¯¥æ§ä»¶çš„çŠ¶æ€ï¼‰ï¼Œè€ŒFragmentä¸­éœ€è¦æŒä¹…åŒ–çš„å˜é‡ä¾ç„¶ä¼šä¸¢å¤±ï¼Œä½†ä¾ç„¶æœ‰è§£å†³æ–¹æ³•ï¼Œå°±æ˜¯åˆ©ç”¨æ–¹æ³•ä¸€ï¼\n**<3>.**ä¸‹é¢ç»™å‡ºçŠ¶æ€çš„æŒä¹…åŒ–å®ä¾‹ä»£ç ï¼š")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('   /** Activityä¸­çš„ä»£ç  **/\n   FragmentB fragmentB;\n\n  @Override\n  protected void onCreate(@Nullable Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.fragment_activity);\n      if( savedInstanceState != null ){\n          fragmentB = (FragmentB) getSupportFragmentManager()\n                      .getFragment(savedInstanceState,"fragmentB");\n      }\n      init();\n  }\n\n  @Override\n  protected void onSaveInstanceState(Bundle outState) {\n      if( fragmentB != null ){\n         getSupportFragmentManager()\n           .putFragment(outState,"fragmentB",fragmentB);\n      }\n      super.onSaveInstanceState(outState);\n  }\n\n  /** Fragmentä¸­ä¿å­˜å˜é‡çš„ä»£ç  **/\n  @Nullable\n  @Override\n  public View onCreateView(LayoutInflater inflater, @Nullable \n      ViewGroup container, @Nullable Bundle savedInstanceState) {\n      AppLog.e("onCreateView");\n      if ( null != savedInstanceState ){\n          String savedString = savedInstanceState\n                               .getString("string");\n          //å¾—åˆ°ä¿å­˜ä¸‹æ¥çš„string\n      }\n      View root = inflater.inflate(R.layout.fragment_a,null);\n      return root;\n  }\n\n  @Override\n  public void onSaveInstanceState(Bundle outState) {\n      outState.putString("string","anAngryAnt");\n      super.onSaveInstanceState(outState);\n  }å¤åˆ¶ä»£ç \n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br"),a("span",{staticClass:"line-number"},[n._v("33")]),a("br"),a("span",{staticClass:"line-number"},[n._v("34")]),a("br"),a("span",{staticClass:"line-number"},[n._v("35")]),a("br"),a("span",{staticClass:"line-number"},[n._v("36")]),a("br"),a("span",{staticClass:"line-number"},[n._v("37")]),a("br"),a("span",{staticClass:"line-number"},[n._v("38")]),a("br"),a("span",{staticClass:"line-number"},[n._v("39")]),a("br"),a("span",{staticClass:"line-number"},[n._v("40")]),a("br"),a("span",{staticClass:"line-number"},[n._v("41")]),a("br"),a("span",{staticClass:"line-number"},[n._v("42")]),a("br"),a("span",{staticClass:"line-number"},[n._v("43")]),a("br")])])])]),n._v(" "),a("h5",{attrs:{id:"é™æ€çš„ä½¿ç”¨fragment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™æ€çš„ä½¿ç”¨fragment"}},[n._v("#")]),n._v(" é™æ€çš„ä½¿ç”¨Fragment")]),n._v(" "),a("p",[n._v("1.é›†æˆFragmentï¼Œé‡å†™onCreateView()å†³å®šFragmentçš„å¸ƒå±€\n2.åœ¨Activityä¸­å£°æ˜æ­¤Fragmentï¼Œå°±å’Œæ™®é€šçš„Viewä¸€æ ·ã€‚")]),n._v(" "),a("h5",{attrs:{id:"fragmentå¸¸ç”¨çš„api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fragmentå¸¸ç”¨çš„api"}},[n._v("#")]),n._v(" Fragmentå¸¸ç”¨çš„API")]),n._v(" "),a("ul",[a("li",[n._v("android.support.v4.app.Fragmentï¼šä¸»è¦ç”¨äºå®šä¹‰Fragment")]),n._v(" "),a("li",[n._v("android.support.v4.app.FragmentManager ï¼šä¸»è¦ç”¨äºåœ¨Activityä¸­æ“ä½œFragmentï¼Œå¯ä»¥ä½¿ç”¨"),a("code",[n._v("FragmentMagager.findFragmentById()å’ŒFragmentMagager.findFragmentByTag()")]),n._v("ç­‰æ–¹æ³•å»æ‰¾åˆ°ä¸€ä¸ªFragment")]),n._v(" "),a("li",[n._v("android.support.v4.app.FragmentTransactionï¼šä¿è¯ä¸€äº›Fragmentæ“ä½œçš„åŸå­æ€§ï¼Œç†Ÿæ‚‰äº‹åŠ¡è¿™ä¸ªè¯ã€‚")]),n._v(" "),a("li",[n._v("ä¸»è¦çš„æ“ä½œéƒ½æ˜¯FragmentTransactionçš„æ–¹æ³•ï¼ˆä¸€èˆ¬æˆ‘ä»¬ä¸ºäº†å‘ä¸‹å…¼å®¹ï¼Œéƒ½ä¼šä½¿ç”¨support.v4åŒ…é‡Œé¢çš„Fragmentï¼‰\n"),a("code",[n._v("getFragmentManager() //Fragmentè‹¥ä½¿ç”¨çš„æ˜¯support.v4åŒ…ä¸­çš„ï¼Œé‚£å°±ä½¿ç”¨getSupportFragmentManagerä»£æ›¿")])])]),n._v(" "),a("p",[a("a",{attrs:{href:"http://blog.csdn.net/u013531824/article/details/49333343",target:"_blank",rel:"noopener noreferrer"}},[n._v("é“¾æ¥ï¼šå…³äºgetChildFragmentManager()ã€ getFragmentManager()ã€getSupportFragmentManager()çš„ä½¿ç”¨"),a("OutboundLink")],1)]),n._v(" "),a("ul",[a("li",[a("p",[n._v("ä¸»è¦çš„æ“ä½œéƒ½æ˜¯FragmentTransactionçš„æ–¹æ³•ï¼š")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("  FragmentTransaction transaction = fm.benginTransatcion();//å¼€å¯ä¸€ä¸ªäº‹åŠ¡\n  //å¾€Activityä¸­æ·»åŠ ä¸€ä¸ªFragment\n  transaction.add() \n\n  transaction.remove() \n  //ä»Activityä¸­ç§»é™¤ä¸€ä¸ªFragmentï¼Œå¦‚æœè¢«ç§»é™¤çš„Fragmentæ²¡æœ‰æ·»    åŠ åˆ°å›é€€æ ˆ\n   ï¼ˆå›é€€æ ˆåé¢ä¼šè¯¦ç»†è¯´ï¼‰ï¼Œè¿™ä¸ªFragmentå®ä¾‹å°†ä¼šè¢«é”€æ¯ã€‚\n\n  transaction.replace()\n  //ä½¿ç”¨å¦ä¸€ä¸ªFragmentæ›¿æ¢å½“å‰çš„ï¼Œå®é™…ä¸Šå°±æ˜¯remove()ç„¶åadd()çš„åˆä½“~\n\n  transaction.hide()\n  //éšè—å½“å‰çš„Fragmentï¼Œä»…ä»…æ˜¯è®¾ä¸ºä¸å¯è§ï¼Œå¹¶ä¸ä¼šé”€æ¯\n\n  transaction.show()\n  //æ˜¾ç¤ºä¹‹å‰éšè—çš„Fragment\n\n  detach()\n  //å½“fragmentè¢«åŠ å…¥åˆ°å›é€€æ ˆçš„æ—¶å€™ï¼Œè¯¥æ–¹æ³•ä¸*remove()*çš„ä½œç”¨æ˜¯ç›¸åŒçš„ï¼Œ\n  //åä¹‹ï¼Œè¯¥æ–¹æ³•åªæ˜¯å°†fragmentä»è§†å›¾ä¸­ç§»é™¤ï¼Œ\n  //ä¹‹åä»ç„¶å¯ä»¥é€šè¿‡*attach()*æ–¹æ³•é‡æ–°ä½¿ç”¨fragmentï¼Œ\n  //è€Œè°ƒç”¨äº†*remove()*æ–¹æ³•ä¹‹åï¼Œ\n  //ä¸ä»…å°†Fragmentä»è§†å›¾ä¸­ç§»é™¤ï¼Œfragmentè¿˜å°†ä¸å†å¯ç”¨ã€‚\n\n  attach()\n  //é‡å»ºviewè§†å›¾ï¼Œé™„åŠ åˆ°UIä¸Šå¹¶æ˜¾ç¤ºã€‚\n\n  transatcion.commit()\n  //æäº¤ä¸€ä¸ªäº‹åŠ¡å¤åˆ¶ä»£ç \n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br")])]),a("p",[n._v("åœ¨è°ƒç”¨commit()ä¹‹å‰ï¼Œå¯ä»¥å°†äº‹åŠ¡æ·»åŠ åˆ°fragmentäº‹åŠ¡åå°æ ˆä¸­ï¼ˆé€šè¿‡è°ƒç”¨addToBackStatck()ï¼‰ã€‚è¿™ä¸ªåå°æ ˆç”±activityç®¡ç†ï¼Œå¹¶ä¸”å…è®¸ç”¨æˆ·é€šè¿‡æŒ‰BACKé”®å›é€€åˆ°å‰ä¸€ä¸ªfragmentçŠ¶æ€ã€‚\nä¸‹é¢çš„ä»£ç ä¸­ä¸€ä¸ªfragmentä»£æ›¿å¦ä¸€ä¸ªfragmentï¼Œå¹¶ä¸”å°†ä¹‹å‰çš„fragmentçŠ¶æ€ä¿ç•™åœ¨åå°æ ˆä¸­ï¼š")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("Fragment newFragment = new ExampleFragment();\nFragmentTransaction transaction = getFragmentManager().beginTransaction();\ntransaction.replace(R.id.fragment_container, newFragment);\ntransaction.addToBackStack(null);\ntransaction.commit();å¤åˆ¶ä»£ç \n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br")])]),a("p",[a("strong",[n._v("æ³¨æ„")]),n._v("ï¼š\nå¦‚æœæ·»åŠ å¤šä¸ªå˜æ›´äº‹åŠ¡ï¼ˆä¾‹å¦‚å¦ä¸€ä¸ªadd()æˆ–è€…remove()ï¼‰å¹¶è°ƒç”¨addToBackStack()ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨commit()ä¹‹å‰çš„æ‰€æœ‰åº”ç”¨çš„å˜æ›´è¢«ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„äº‹åŠ¡æ·»åŠ åˆ°åå°æ ˆä¸­ï¼Œå¹¶ä¸”BACKé”®å¯ä»¥å°†å®ƒä»¬ä¸€èµ·å›é€€ã€‚\nå½“ç§»é™¤ä¸€ä¸ªfragmentæ—¶ï¼Œå¦‚æœè°ƒç”¨äº†addToBackStack()ï¼Œé‚£ä¹ˆä¹‹åfragmentä¼šè¢«åœæ­¢ï¼Œå¦‚æœç”¨æˆ·å›é€€ï¼Œå®ƒå°†è¢«æ¢å¤è¿‡æ¥ã€‚\nè°ƒç”¨commit()å¹¶ä¸ç«‹åˆ»æ‰§è¡Œäº‹åŠ¡ï¼Œç›¸åï¼Œè€Œæ˜¯é‡‡å–é¢„çº¦æ–¹å¼ï¼Œä¸€æ—¦activityçš„ç•Œé¢çº¿ç¨‹ï¼ˆä¸»çº¿ç¨‹ï¼‰å‡†å¤‡å¥½ä¾¿å¯è¿è¡Œèµ·æ¥ã€‚ç„¶è€Œï¼Œå¦‚æœæœ‰å¿…è¦çš„è¯ï¼Œä½ å¯ä»¥ä»ç•Œé¢çº¿ç¨‹è°ƒç”¨executePendingTransations()ç«‹å³æ‰§è¡Œç”±commit()æäº¤çš„äº‹åŠ¡ã€‚\nåªèƒ½åœ¨activityä¿å­˜çŠ¶æ€ï¼ˆå½“ç”¨æˆ·ç¦»å¼€activityæ—¶ï¼‰ä¹‹å‰ç”¨commit()æäº¤äº‹åŠ¡ã€‚å¦‚æœä½ å°è¯•åœ¨é‚£æ—¶ä¹‹åæäº¤ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚è¿™æ˜¯å› ä¸ºå¦‚æœactivityéœ€è¦è¢«æ¢å¤ï¼Œæäº¤åçš„çŠ¶æ€ä¼šè¢«ä¸¢å¤±ã€‚å¯¹äºè¿™ç±»ä¸¢å¤±æäº¤çš„æƒ…å†µï¼Œå¯ä½¿ç”¨commitAllowingStateLoss()")])])]),n._v(" "),a("h5",{attrs:{id:"ç®¡ç†fragmentå›é€€æ ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç®¡ç†fragmentå›é€€æ ˆ"}},[n._v("#")]),n._v(" ç®¡ç†Fragmentå›é€€æ ˆ")]),n._v(" "),a("ul",[a("li",[a("p",[n._v("è·Ÿè¸ªå›é€€æ ˆçš„çŠ¶æ€")]),n._v(" "),a("p",[n._v("æˆ‘ä»¬é€šè¿‡å®ç°")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("OnBackStackChangedListener\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br")])]),a("p",[n._v("æ¥å£æ¥å®ç°å›é€€æ ˆçŠ¶æ€è·Ÿè¸ªï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("//implementsæ¥å£\npublic class XXX implements FragmentManager.OnBackStackChangedListener \n//å®ç°æ¥å£æ‰€è¦å®ç°çš„æ–¹æ³•\n@Override\npublic void onBackStackChanged() {\n  //do whatevery you want\n}\n//è®¾ç½®å›é€€æ ˆç›‘å¬æ¥å£\ngetSupportFragmentManager().addOnBackStackChangedListener(this);å¤åˆ¶ä»£ç \n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br")])])]),n._v(" "),a("li",[a("p",[n._v("ç®¡ç†å›é€€æ ˆ\n"),a("strong",[n._v("(1)."),a("code",[n._v("FragmentTransaction.addToBackStack(String)")])]),n._v("\nå°†ä¸€ä¸ªåˆšåˆšæ·»åŠ çš„FragmentåŠ å…¥åˆ°å›é€€æ ˆä¸­\n"),a("strong",[n._v("(2)."),a("code",[n._v("getSupportFragmentManager().getBackStackEntryCount()")])]),n._v("\nè·å–å›é€€æ ˆä¸­çš„å®ä½“æ•°é‡\n"),a("strong",[n._v("(3)."),a("code",[n._v("getSupportFragmentManager().popBackStack(String name, int flags)")])]),n._v("\næ ¹æ®nameç«‹åˆ»å¼¹å‡ºæ ˆé¡¶çš„fragment\n"),a("strong",[n._v("(4)."),a("code",[n._v("getSupportFragmentManager().popBackStack(int id, int flags)")])]),n._v("\næ ¹æ®idç«‹åˆ»å¼¹å‡ºæ ˆé¡¶çš„fragment")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);